try{let T=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},p=new T.Error().stack;p&&(T._sentryDebugIds=T._sentryDebugIds||{},T._sentryDebugIds[p]="d99bf646-1bdd-484d-a7c5-ac69d9f5a064",T._sentryDebugIdIdentifier="sentry-dbid-d99bf646-1bdd-484d-a7c5-ac69d9f5a064")}catch{}{let T=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};T.SENTRY_RELEASE={id:"2.66.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[6859],{6859:((T,p,s)=>{s.r(p),s.d(p,{default:()=>ge});var e=s(74848),P=s(20413),D=s(17761),C=s(74576),f=s(90086),E=s(57886),x=s(31170),n=s(52114),m=s(1279),O=s(6442);const N=({status:t})=>{const{formatMessage:l}=(0,O.A)();switch(t){case"failed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:m.Il.ERROR,children:l({id:"generic.failed"})})}),(0,e.jsx)("div",{className:"text-error",children:(0,e.jsx)(x.E,{width:15,height:15})})]});case"pending":return(0,e.jsx)("div",{className:"flex items-center space-x-1",children:(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:m.Il.WARNING,children:l({id:"generic.pending"})})})});case"confirmed":return(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("div",{children:(0,e.jsx)(n.E,{testid:"tx-status",theme:m.Il.SUCCESS,children:l({id:"generic.confirmed"})})}),(0,e.jsx)("div",{className:"text-textBuy",children:(0,e.jsx)(E.y,{width:15,height:15})})]})}};var L=s(45452),R=s(4800),o=s(55074),r=s(48346),a=s(69254),c=s(49798),v=s(34476),K=s(5027),W=s(44657),q=s(80772),$=s(21094),_=s(40053),F=s(96540);const ee=({transaction:t,asset:l,totalTransactionFee:g,gasPrice:u})=>{var j,y,I;const{formatMessage:i}=(0,O.A)(),{isAdvancedTransactionDataEnabled:d}=(0,K.j)(),h=(0,v.m)(t.blockchain.id),{from:b,to:A,type:M,input:U,amount:B,isUnlimited:w}=(0,P.A)(t),ye=(0,F.useMemo)(()=>t.feeIs7702&&t.status==="pending",[t]),V=(0,F.useMemo)(()=>{var S;return t.feeIs7702&&(S=t.initialHash)!=null?S:t.hash},[t]);return(0,e.jsxs)(R.LO,{children:[(0,e.jsx)(o.F,{label:i({id:"generic.status"}),children:(0,e.jsx)(N,{status:t.status})}),(0,e.jsx)(o.F,{label:i({id:"generic.time"}),children:(0,e.jsx)(c.X,{value:t.createdAt})}),t.nft&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(o.F,{label:i({id:"generic.collection"}),children:(0,e.jsx)(n.E,{children:t.nft.collectionName})}),(0,e.jsx)(o.F,{label:i({id:"generic.token"})+" ID",children:(0,e.jsx)(n.E,{children:t.nft.onChainId})})]}),(0,e.jsx)(f.q,{network:h,sender:b}),(0,e.jsx)(C.C,{recipient:A,type:M,network:(y=(j=t.destination)==null?void 0:j.blockchain)!=null?y:h}),(0,e.jsx)(o.F,{label:i({id:"generic.hash"}),children:(0,e.jsx)(r.S,{isLoading:ye,widthClass:"w-22.5",heightClass:"h-4",children:(0,e.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,e.jsx)(n.E,{children:(0,_.p)({value:V})}),(0,e.jsx)(L.T,{width:15,height:15,value:V})]})})}),t.memo&&(0,e.jsx)(o.F,{label:i({id:"generic.memo"}),children:(0,e.jsx)(n.E,{children:isNaN(parseInt(t.memo))?t.memo:parseInt(t.memo)})}),(parseFloat(B)>0||w)&&(0,e.jsx)(o.F,{label:i({id:"generic.amount"}),children:(0,e.jsx)(a.h,{testid:"tx-amount",value:B,amountType:$.Cu.CRYPTO,currency:t.nft?"":l.symbol,tinyThreshold:10,maxSignificantDecimals:10,isUnlimited:w})}),(0,e.jsx)(o.F,{label:i({id:"generic.network-fee"}),children:t.fee.map((S,z)=>{var k,Z,Q;return(0,e.jsx)(a.h,{testid:"tx-fee-"+z,value:t.feeIs7702&&(Z=(k=t.initialFee)==null?void 0:k[0])!=null?Z:S,amountType:$.Cu.CRYPTO,tinyThreshold:10,maxSignificantDecimals:10,currency:t.feeIs7702?(Q=t.feeAsset)==null?void 0:Q.symbol:(0,q.Hy)(h,l)},z+S)})}),(0,e.jsx)(o.F,{label:i({id:"generic.network"}),children:(0,e.jsx)(n.E,{testid:"tx-network",children:(I=h.displayName)!=null?I:h.name})}),d&&(0,e.jsxs)(e.Fragment,{children:[t.nonce&&(0,e.jsx)(o.F,{label:i({id:"generic.nonce"}),children:(0,e.jsx)(n.E,{children:parseInt(t.nonce)})}),t.gasLimit&&(0,e.jsx)(o.F,{label:i({id:"generic.gas-limit"}),children:(0,e.jsx)(n.E,{children:parseInt(t.gasLimit)})}),t.gasPrice&&(0,e.jsx)(o.F,{label:i({id:"generic.gas-price"}),children:(0,e.jsxs)(n.E,{children:[u," ",h.symbol]})}),M===W.wL.Contract&&(0,e.jsx)(o.F,{label:i({id:"generic.input-data"}),children:(0,e.jsx)("div",{className:"w-2/3 bg-bg3 rounded-lg p-4 text-right overflow-auto",children:(0,e.jsx)(n.E,{children:U})})})]}),!h.isCustom&&(0,e.jsx)(D.h,{asset:l,blockchain:h,type:M,amount:t.nft?0:parseFloat(B),fee:g,feeAsset:t.feeAsset})]})};var se=s(23207),te=s(65512),Y=s(29584),H=s(34798),ne=s(80179),le=(t,l,g)=>new Promise((u,j)=>{var y=d=>{try{i(g.next(d))}catch(h){j(h)}},I=d=>{try{i(g.throw(d))}catch(h){j(h)}},i=d=>d.done?u(d.value):Promise.resolve(d.value).then(y,I);i((g=g.apply(t,l)).next())});const oe=({transaction:t})=>{var l,g,u;const{formatMessage:j}=(0,O.A)(),y=(0,H.K)(t.blockchain.id,t.blockchain.isCustom),{trackAnalytics:I}=(0,se.s)();if(!y.explorer)return null;const i=(l=y.explorer)!=null&&l.url.endsWith("/")?y.explorer.url:`${(g=y.explorer)==null?void 0:g.url}/`,d=(u=y.explorer)==null?void 0:u.txPath,h=d?d.startsWith("/")?d.substring(1):d:"tx/",b=(0,F.useMemo)(()=>t.feeIs7702&&t.status==="pending",[t]),A=`${i}${h}${t.hash}`;return(0,e.jsx)("div",{children:(0,e.jsx)(te.$,{onClick:()=>le(null,null,function*(){I({event:Y.Un.BLOCKCHAIN_EXPLORER,props:{pageViewResourceType:Y.Rb.EXTERNAL,explorerUrl:y.explorer.url}}),yield(0,ne.kK)(A)}),loading:b,disabled:b,children:j({id:"transaction.btn-view-on-explorer"})})})};var ae=s(65504),re=s(68632),ie=s(86170),de=s(92588),ce=s(79941),ue=s(15192);const he=({asset:t,transaction:l,totalTransactionFee:g})=>{var u,j,y,I;const i=(0,H.K)(l.blockchain.id,l.blockchain.isCustom),d=(0,de.q)(t),{currency:h,baseCurrencyType:b}=(0,ie.P)(),A=l.nft,M=(0,F.useMemo)(()=>Number((0,ce.ct)(l,t)),[l,t]),U=d?.price?(0,ue.A)(A?g:M).mul((u=d.price)!=null?u:0).toNumber():null;return(0,e.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,e.jsx)(ae.q,{name:A?(y=(j=l.nft)==null?void 0:j.name)!=null?y:"":t.name,network:t.address?i:void 0,src:A?(I=l.nft)==null?void 0:I.previewImageURL.url:t.iconUrl,size:re.Y.XLARGE}),M===0?null:(0,e.jsx)(a.h,{textType:m.jK.HEADER,amountType:$.Cu.CRYPTO,value:M}),U===0?null:(0,e.jsx)(a.h,{textType:m.jK.SUBTITLE,theme:m.Il.SECONDARY,amountType:b,value:U,currency:h})]})};var X=s(47767),me=s(45871);const ve=t=>{const l=(0,me.x)();return(0,F.useMemo)(()=>{var g;return(g=l.find(u=>u.hash===t))!=null?g:l.find(u=>u.initialHash===t)},[t,l])};var fe=s(63369),G=s(28398),xe=s(83729),J=s(26858);const ge=()=>{const{id:t}=(0,X.g)();if(!t)throw new Error(`Transaction id invalid "${t}" is invalid.`);const l=ve(t);if(!l)throw new Error(`Could not find transaction with id ${t}`);const{type:g}=(0,P.A)(l),u=(0,v.m)(l.blockchain.id),j=(0,H.K)(u.id,u.isCustom),{isAdvancedTransactionDataEnabled:y}=(0,K.j)();if(!j)throw new Error(`Could not find network with chain ID "${u.id}".`);const I=j.isCustom?(0,J.dJ)(j,l.assetId):(0,J.Mr)(l.assetId),i=(0,F.useMemo)(()=>{var A;return xe.Js((A=l.gasPrice)!=null?A:0,"ether")},[l]),d=(0,F.useMemo)(()=>{var A,M;return l.feeIs7702?Number((M=(A=l.initialFee)==null?void 0:A[0])!=null?M:l.fee[0]):l.fee.reduce((U,B)=>{var w;return parseFloat((w=String(U))!=null?w:"0")+parseFloat(B??"0")},0)+(y?parseFloat(i):0)},[l.fee,i]);if(!I)throw new Error(`Could not find asset with assetId: "${l.assetId}".`);(0,fe.K)({event:Y.Un.TRANSACTION,props:{blockchainName:u.name,blockchainType:u.isCustom?G.l.CUSTOM:G.l.MAIN,blockchainChainId:u.chainId}});const{formatMessage:h}=(0,O.A)(),b=(0,X.Zp)();return(0,e.jsxs)(R.LN,{children:[(0,e.jsx)(R.zY,{backAction:()=>b(-1),title:h({id:`transaction.${g}.title`},{assetSymbol:I.symbol})}),(0,e.jsxs)(R.Gv,{children:[(0,e.jsx)(he,{transaction:l,asset:I,totalTransactionFee:d}),(0,e.jsx)(ee,{transaction:l,asset:I,totalTransactionFee:d,gasPrice:i}),(0,e.jsx)(oe,{transaction:l})]})]})}}),20413:((T,p,s)=>{s.d(p,{A:()=>x});var e=s(26858),P=s(40790),D=s(96540),C=s(44657),f=s(79941),E=s(34476);const x=n=>{const m=(0,E.m)(n.blockchain.id),O=(0,P.F7)(m.coinId),N=m.isCustom?(0,e.dJ)(m,n.assetId):(0,e.Mr)(n.assetId);return(0,D.useMemo)(()=>{var L,R;const o={id:n.hash,from:n.events[0].metadata.from,to:n.events[0].metadata.to,type:n.events[0].type,status:n.status,symbol:(L=N?.symbol)!=null?L:m.symbol,fee:n.fee,date:n.createdAt,amount:(0,f.ct)(n,N)};if((0,f.fO)(n.events)){if(!O)return o.type=C.wL.Send,o.amount=Math.abs(Number(o.amount)).toString(),o;const r=O.address,{from:a,to:c}=n.events[0].metadata,v=a===r?c:a;parseFloat(o.amount)>0?(o.type=C.wL.Receive,o.from=v,o.to=r):(o.type=C.wL.Send,o.from=r,o.to=v,o.amount=Math.abs(Number(o.amount)).toString())}return(0,f.x0)(n.events)&&(o.input=n.events[0].metadata.input),(0,f.m5)(n.events)&&(o.isUnlimited=n.events[0].metadata.isUnlimited),n.nft&&(o.nft={onChainId:n.nft.onChainId,previewImage:n.nft.previewImageURL,originalImage:n.nft.originalMediaURL,name:n.nft.name,collectionName:n.nft.collectionName,collectionId:n.nft.collectionId,blockchain:{iconUrl:m.iconUrl,name:(R=m.displayName)!=null?R:m.name}}),o},[JSON.stringify(n)])}}),34476:((T,p,s)=>{s.d(p,{m:()=>C});var e=s(96540),P=s(10537),D=s(15078);function C(f){const E=(0,P.n)(),x=(0,D.I)();return(0,e.useMemo)(()=>{var n;return(n=E[f])!=null?n:x[f]},[f,E,x])}}),45871:((T,p,s)=>{s.d(p,{x:()=>D});var e=s(68157),P=s(96540);const D=()=>{var C;const f=(C=(0,e.GV)(E=>{var x;return(x=E.tx.itemsPerWalletAccount[E.wallet.walletId])==null?void 0:x[E.wallet.selectedAccountId]}))!=null?C:[];return(0,P.useMemo)(()=>(f.sort((E,x)=>x.createdAt-E.createdAt),f),[f])}}),49798:((T,p,s)=>{s.d(p,{X:()=>o});var e=s(74848),P=s(52114),D=s(72267),C=Object.defineProperty,f=Object.defineProperties,E=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,O=(r,a,c)=>a in r?C(r,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[a]=c,N=(r,a)=>{for(var c in a||(a={}))n.call(a,c)&&O(r,c,a[c]);if(x)for(var c of x(a))m.call(a,c)&&O(r,c,a[c]);return r},L=(r,a)=>f(r,E(a)),R=(r,a)=>{var c={};for(var v in r)n.call(r,v)&&a.indexOf(v)<0&&(c[v]=r[v]);if(r!=null&&x)for(var v of x(r))a.indexOf(v)<0&&m.call(r,v)&&(c[v]=r[v]);return c};const o=r=>{var a=r,{value:c,inline:v=!1}=a,K=R(a,["value","inline"]);const W=(0,e.jsx)(D.XU,{value:c,month:"short",day:"2-digit",hourCycle:"h23",hour:"numeric",minute:"2-digit",year:"numeric"});return v?W:(0,e.jsx)(P.E,L(N({},K),{children:W}))}})}]);

//# sourceMappingURL=6859.js.map