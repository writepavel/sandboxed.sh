try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},f=new r.Error().stack;f&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[f]="c4d34093-4eae-47ce-a021-8dfb861d5dfb",r._sentryDebugIdIdentifier="sentry-dbid-c4d34093-4eae-47ce-a021-8dfb861d5dfb")}catch{}{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};r.SENTRY_RELEASE={id:"2.66.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[9973],{49973:((r,f,e)=>{e.r(f),e.d(f,{default:()=>ee});var n=e(74848),g=e(96540),I=e(85434),M=e(8224),b=e(23207),B=e(63369),N=e(82444),T=e(29584),U=e(6442),D=e(65512),x=e(52619),L=e(33994),Y=e(47767),A=e(26264),F=e(64145),w=e(72960),V=e(31357),j=e(52114),y=e(1279),K=e(93155),O=e(68157),G=e(32454),P=e(1645),H=e(26113),Q=e(70438),W=e(74215),Z=(a,t,s)=>new Promise((v,i)=>{var u=o=>{try{l(s.next(o))}catch(d){i(d)}},m=o=>{try{l(s.throw(o))}catch(d){i(d)}},l=o=>o.done?v(o.value):Promise.resolve(o.value).then(u,m);l((s=s.apply(a,t)).next())});const $=()=>{const a=(0,O.GV)(p=>p.settings.passkeyId),t=(0,O.jL)(),{trackAnalytics:s}=(0,b.s)(),v=(0,W.v)(),{formatMessage:i}=(0,U.A)();(0,B.K)({event:T.Un.ONBOARDING_SET_BIOMETRICS,props:{setupType:v}});const u=(0,Y.Zp)(),[m,l]=(0,g.useState)(null),{data:o}=(0,g.useContext)(M.x),[d,S]=(0,g.useState)(!1),[h,E]=(0,g.useState)(0),se=()=>Z(null,null,function*(){a&&u(A.b.DEFAULT),S(!0),l({id:"generic.biometrics-register",defaultMessage:"Register Biometrics"});const p=new Q.A;try{const c=yield p.create();if(!c){S(!1);return}E(1),l({id:"generic.biometrics-verifying",defaultMessage:"Verifying Biometrics"}),(yield p.verify({credential:c.credential,password:c.password}))&&(E(2),yield F.YW.emit(w.A.GENERATE_PASSKEY_VAULT,{password:c.password,payload:o.password}),s({event:T.BQ.BIOMETRICS_SET,props:{pageViewSource:T.Un.ONBOARDING_WELCOME}}),E(3),l({id:"generic.biometrics-redirecting",defaultMessage:"Redirecting"}),yield(0,H.yy)(2e3),t(V.s.actions.setPasskeyId(c.credentialId)),u(A.b.DEFAULT))}catch(c){l(null),K.A.error(c),S(!1)}});return(0,n.jsxs)(N.Q,{heading:i({id:"setup-biometrics.heading",defaultMessage:"Biometric authentication"}),subHeading:i({id:"setup-biometrics.subheading",defaultMessage:"A secure and simple way to unlock your wallet"}),animation:(0,n.jsx)(L.P,{width:120,height:120}),activeTab:2,children:[d&&(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 justify-center p-4 text-left",children:[(0,n.jsx)("div",{className:"items-start",children:(0,n.jsx)(P.S,{onChange:()=>{},checked:h>=1,children:(0,n.jsx)(j.E,{theme:h>=1?y.Il.PRIMARY_DEFAULT:y.Il.UTILITY_1_OPACITY_2,children:i({id:"generic.biometrics-register",defaultMessage:"Register Biometrics"})})})}),(0,n.jsx)("div",{className:"items-start",children:(0,n.jsx)(P.S,{onChange:()=>{},checked:h>=2,children:(0,n.jsx)(j.E,{theme:h>=2?y.Il.PRIMARY_DEFAULT:y.Il.UTILITY_1_OPACITY_2,children:i({id:"generic.biometrics-verify",defaultMessage:"Verify Biometrics"})})})})]})}),(0,n.jsx)("div",{className:"flex w-1/2 ml-auto mt-12",children:(0,n.jsx)(D.$,{loadingData:m?(0,n.jsx)("div",{className:"text-on-primary",children:i(m)}):null,type:x.II.BUTTON,theme:x.ry.PRIMARY,loading:d,onClick:se,children:(0,n.jsxs)("div",{className:"flex gap-2 text-on-primary items-center",children:[i({id:"generic.set-up-biometrics",defaultMessage:"Set up biometrics"}),(0,n.jsx)(G.E,{})]})})})]})};var z=e(41383),J=e(12996),X=Object.defineProperty,R=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,C=(a,t,s)=>t in a?X(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,_=(a,t)=>{for(var s in t||(t={}))k.call(t,s)&&C(a,s,t[s]);if(R)for(var s of R(t))q.call(t,s)&&C(a,s,t[s]);return a};const ee=()=>{const a=(0,J.F)(),[t,s]=(0,g.useState)(a?I.jK.SET_BIOMETRICS:I.jK.AUTHENTICATION),i=_({[I.jK.SET_BIOMETRICS]:$},z.globalSteps)[t];return(0,n.jsx)(i,{setCurrentStep:s})}})}]);

//# sourceMappingURL=9973.js.map