try{let K=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},M=new K.Error().stack;M&&(K._sentryDebugIds=K._sentryDebugIds||{},K._sentryDebugIds[M]="1d026276-4bee-4407-80a7-a98bb681bf20",K._sentryDebugIdIdentifier="sentry-dbid-1d026276-4bee-4407-80a7-a98bb681bf20")}catch{}{let K=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};K.SENTRY_RELEASE={id:"2.66.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[4791],{6475:((K,M,n)=>{n.d(M,{q:()=>P});var e=n(1651),I=n(58959),b=class extends e.${constructor(x,F){super(x,F)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(x,F){super.setOptions({...x,behavior:(0,I.PL)()},F)}getOptimisticResult(x){return x.behavior=(0,I.PL)(),super.getOptimisticResult(x)}fetchNextPage(x){return this.fetch({...x,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(x){return this.fetch({...x,meta:{fetchMore:{direction:"backward"}}})}createResult(x,F){const{state:W}=x,$=super.createResult(x,F),{isFetching:o,isRefetching:_,isError:ne,isRefetchError:fe}=$,ee=W.fetchMeta?.fetchMore?.direction,T=ne&&ee==="forward",S=o&&ee==="forward",L=ne&&ee==="backward",w=o&&ee==="backward";return{...$,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,I.rB)(F,W.data),hasPreviousPage:(0,I.RQ)(F,W.data),isFetchNextPageError:T,isFetchingNextPage:S,isFetchPreviousPageError:L,isFetchingPreviousPage:w,isRefetchError:fe&&!T&&!L,isRefetching:_&&!S&&!w}}},v=n(44171);function P(x,F){return(0,v.t)(x,b,F)}}),8168:((K,M,n)=>{n.d(M,{b:()=>v});var e=n(74848),I=n(52114),b=n(1279);const v=({title:P,children:x,className:F=""})=>(0,e.jsxs)("div",{className:`my-2 flex flex-col space-y-4 pb-2 ${F}`,children:[P&&(0,e.jsx)(I.E,{theme:b.Il.THIRD,testid:"category-title",children:P}),x]})}),9505:((K,M,n)=>{n.d(M,{R:()=>ee});var e=n(15192),I=n(96540),b=n(6442),v=Object.defineProperty,P=Object.defineProperties,x=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,o=(T,S,L)=>S in T?v(T,S,{enumerable:!0,configurable:!0,writable:!0,value:L}):T[S]=L,_=(T,S)=>{for(var L in S||(S={}))W.call(S,L)&&o(T,L,S[L]);if(F)for(var L of F(S))$.call(S,L)&&o(T,L,S[L]);return T},ne=(T,S)=>P(T,x(S));const fe=({value:T,min:S,max:L})=>{const w={number:!1,min:!1,max:!1};if(!T)return ne(_({},w),{isValid:!1});try{const Y=(0,e.A)(T);w.number=!0,w.min=typeof S<"u"?Y.gte((0,e.A)(S)):!0,w.max=typeof L<"u"?Y.lte((0,e.A)(L)):!0}catch{}finally{return ne(_({},w),{isValid:Object.values(w).every(Y=>!!Y)})}},ee=({value:T,min:S,max:L})=>{const{formatMessage:w}=(0,b.A)(),[Y,Ae]=(0,I.useState)({isValid:!1,number:!1,min:!1,max:!1});(0,I.useEffect)(()=>{Ae(_({},fe({value:T,min:S,max:L})))},[T,S,L]);const be=(0,I.useMemo)(()=>{if(!Y.number)return w({id:"validate-amount.generic"});if(!Y.min)return w({id:"validate-amount.min"},{number:S});if(!Y.max)return w({id:"validate-amount.max"},{number:L})},[w,Y,S]);return{isValid:Y.isValid,error:be}}}),16742:((K,M,n)=>{n.d(M,{C:()=>v,M:()=>P});var e=n(74848),I=n(43412),b=n(96540);const v=(0,b.createContext)({domains:[],isLoading:!1}),P=({children:x})=>{const[F,W]=(0,I.G)();return(0,e.jsx)(v.Provider,{value:{domains:W,isLoading:F},children:x})}}),21190:((K,M,n)=>{n.d(M,{W:()=>W});var e=n(74848),I=n(94893),b=n(41327),v=n(65504),P=n(68632),x=n(52114),F=n(1279);const W=({iconUrl:$,icon:o,name:_="",symbol:ne,network:fe,onClick:ee,testid:T,contractAddress:S,variant:L="default"})=>(0,e.jsx)(I.c,{testid:T,onClick:ee,children:(0,e.jsxs)("div",{className:`flex items-center ${L==="default"?"space-x-2.5":"space-x-1 bg-button-secondary hover:bg-button-secondary-hovered rounded-full p-4"}`,children:[$?(0,e.jsx)(v.q,{size:L==="default"?P.Y.LARGE:P.Y.XXSMALL,src:$,name:_,network:S?fe:void 0}):o,(0,e.jsxs)("div",{className:`flex ${L==="default"?"flex-col":"flex-row"}`,children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(x.E,{type:L==="default"?F.jK.TITLE:F.jK.SUBHEADER_14,weight:F.nG.SEMIBOLD,children:ne}),(0,e.jsx)(b.v,{width:L==="default"?20:16,height:L==="default"?20:16,colorClass:L==="default"?"text-iconNormal":"text-icon-primary"})]}),_&&(0,e.jsx)("div",{className:"flex whitespace-nowrap",children:(0,e.jsx)(x.E,{type:F.jK.CAPTION,theme:F.Il.SECONDARY,children:_})})]})]})})}),31441:((K,M,n)=>{n.d(M,{D:()=>v});var e=n(74848);const I=24,b=24,v=({width:P,height:x,colorClass:F})=>(0,e.jsxs)("svg",{className:F,xmlns:"http://www.w3.org/2000/svg",width:P??I,height:x??b,viewBox:"0 0 20 20",fill:"none",children:[(0,e.jsx)("path",{d:"M18.0748 7.90867L14.5998 4.30034C14.2415 3.92534 13.6498 3.917 13.2748 4.27534C12.8998 4.63367 12.8915 5.22534 13.2498 5.60034L15.1915 7.617H3.23314C2.71647 7.617 2.2998 8.03367 2.2998 8.55034C2.2998 9.067 2.71647 9.48367 3.23314 9.48367H17.3998C17.6331 9.48367 17.8665 9.40034 18.0498 9.22534C18.4248 8.867 18.4331 8.27534 18.0748 7.90034V7.90867Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M16.7664 11.167H2.59975C2.36642 11.167 2.13308 11.2503 1.94975 11.4253C1.57475 11.7837 1.56642 12.3753 1.92475 12.7503L5.39975 16.3587C5.75808 16.7337 6.34975 16.742 6.72475 16.3837C7.09975 16.0253 7.10809 15.4337 6.74975 15.0587L4.80808 13.042H16.7748C17.2914 13.042 17.7081 12.6253 17.7081 12.1087C17.7081 11.592 17.2914 11.1753 16.7748 11.1753L16.7664 11.167Z",fill:"currentColor"})]})}),33647:((K,M,n)=>{n.d(M,{d:()=>Ge});var e=n(74848),I=n(66737),b=n(16638),v=n(96540),P=n(24867),x=n(95060),F=n(37786),W=n(96992),$=n(95015),o=n(69821),_=n(98975),ne=n(65448),fe=n(82498),ee=n(15953),T=n(9685),S=n(43660),L=n(66206),w=n(59124),Y=n(44586),Ae=n(90540);let be=(0,v.createContext)(null);be.displayName="GroupContext";let Tt=v.Fragment;function lt(he){var Fe;let[ce,de]=(0,v.useState)(null),[Ie,De]=(0,Ae.b0)(),[Ze,ve]=(0,w.rU)(),Q=(0,v.useMemo)(()=>({switch:ce,setSwitch:de}),[ce,de]),Ye={},et=he,we=(0,L.Ci)();return v.createElement(ve,{name:"Switch.Description",value:Ze},v.createElement(De,{name:"Switch.Label",value:Ie,props:{htmlFor:(Fe=Q.switch)==null?void 0:Fe.id,onClick(J){ce&&(J.currentTarget instanceof HTMLLabelElement&&J.preventDefault(),ce.click(),ce.focus({preventScroll:!0}))}}},v.createElement(be.Provider,{value:Q},we({ourProps:Ye,theirProps:et,slot:{},defaultTag:Tt,name:"Switch.Group"}))))}let Nt="button";function ct(he,Fe){var ce;let de=(0,v.useId)(),Ie=(0,ee.q)(),De=(0,ne._)(),{id:Ze=Ie||`headlessui-switch-${de}`,disabled:ve=De||!1,checked:Q,defaultChecked:Ye,onChange:et,name:we,value:J,form:ze,autoFocus:Ee=!1,...kt}=he,dt=(0,v.useContext)(be),[ut,Rt]=(0,v.useState)(null),Bt=(0,v.useRef)(null),Wt=(0,_.P)(Bt,Fe,dt===null?null:dt.setSwitch,Rt),Oe=(0,F.K)(Ye),[Se,Te]=(0,x.P)(Q,et,Oe??!1),Ut=(0,W.L)(),[tt,Ne]=(0,v.useState)(!1),ke=(0,$._)(()=>{Ne(!0),Te?.(!Se),Ut.nextFrame(()=>{Ne(!1)})}),Vt=(0,$._)(ue=>{if((0,T.l)(ue.currentTarget))return ue.preventDefault();ue.preventDefault(),ke()}),pt=(0,$._)(ue=>{ue.key===Y.D.Space?(ue.preventDefault(),ke()):ue.key===Y.D.Enter&&(0,S.q)(ue.currentTarget)}),je=(0,$._)(ue=>ue.preventDefault()),Ht=(0,Ae.o2)(),ft=(0,w.MM)(),{isFocusVisible:ht,focusProps:Re}=(0,I.o)({autoFocus:Ee}),{isHovered:st,hoverProps:Kt}=(0,b.M)({isDisabled:ve}),{pressed:ge,pressProps:oe}=(0,P.Z)({disabled:ve}),Gt=(0,v.useMemo)(()=>({checked:Se,disabled:ve,hover:st,focus:ht,active:ge,autofocus:Ee,changing:tt}),[Se,st,ht,ge,ve,tt,Ee]),Zt=(0,L.v6)({id:Ze,ref:Wt,role:"switch",type:(0,o.c)(he,ut),tabIndex:he.tabIndex===-1?0:(ce=he.tabIndex)!=null?ce:0,"aria-checked":Se,"aria-labelledby":Ht,"aria-describedby":ft,disabled:ve||void 0,autoFocus:Ee,onClick:Vt,onKeyUp:pt,onKeyPress:je},Re,Kt,oe),Yt=(0,v.useCallback)(()=>{if(Oe!==void 0)return Te?.(Oe)},[Te,Oe]),xt=(0,L.Ci)();return v.createElement(v.Fragment,null,we!=null&&v.createElement(fe.CL,{disabled:ve,data:{[we]:J||"on"},overrides:{type:"checkbox",checked:Se},form:ze,onReset:Yt}),xt({ourProps:Zt,theirProps:kt,slot:Gt,defaultTag:Nt,name:"Switch"}))}let Ke=(0,L.FX)(ct),ae=lt,N=Ae.JU,p=w.VY,Ce=Object.assign(Ke,{Group:ae,Label:N,Description:p});const Ge=({label:he,checked:Fe,testid:ce,disabled:de,onChange:Ie})=>(0,e.jsxs)(Ce,{"data-testid":ce,checked:Fe,onChange:Ie,className:"switch",onClick:De=>De.stopPropagation(),disabled:de,children:[he&&(0,e.jsx)("span",{className:"sr-only",children:he}),(0,e.jsx)("span",{"aria-hidden":"true",className:"switch__toggle"})]})}),38795:((K,M,n)=>{n.d(M,{r:()=>P});var e=n(6475),I=n(96540),b=n(64145),v=n(89408);function P(x,F){const[W,$]=(0,I.useState)(void 0),{data:o,error:_,fetchNextPage:ne,hasNextPage:fe,isFetching:ee,isFetchingNextPage:T,status:S}=(0,e.q)({queryKey:["tokens",W,x?.join()],queryFn:({pageParam:w})=>b.YW.emit(v.A.SEARCH_ASSETS,{query:W,networks:x,page:w,includeNonCustomTokenNetworks:F}),enabled:W!==void 0,initialPageParam:0,refetchOnWindowFocus:!1,getNextPageParam:w=>w?.nextPage}),L=(0,I.useMemo)(()=>(o?.pages||[]).flatMap(w=>w?.data||[]),[o?.pages]);return{setQuery:$,data:o,error:_,fetchNextPage:ne,hasNextPage:fe,isFetching:ee,isFetchingNextPage:T,status:S,flattenData:L}}}),44199:((K,M,n)=>{n.d(M,{X:()=>b});var e=n(96540);function I(){const v=document.documentElement,P=parseInt(v.style.width,10)||0,x=parseInt(v.style.height,10)||0;return{width:P,height:x}}const b=()=>{const[v,P]=(0,e.useState)(()=>{const{width:x,height:F}=I();return window.innerWidth===x&&window.innerHeight===F});return(0,e.useEffect)(()=>{const x=()=>{const{width:F,height:W}=I();P(window.innerWidth===F&&window.innerHeight===W)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),v}}),45871:((K,M,n)=>{n.d(M,{x:()=>b});var e=n(68157),I=n(96540);const b=()=>{var v;const P=(v=(0,e.GV)(x=>{var F;return(F=x.tx.itemsPerWalletAccount[x.wallet.walletId])==null?void 0:F[x.wallet.selectedAccountId]}))!=null?v:[];return(0,I.useMemo)(()=>(P.sort((x,F)=>F.createdAt-x.createdAt),P),[P])}}),54791:((K,M,n)=>{n.r(M),n.d(M,{App:()=>Ls,Page:()=>gs,default:()=>la});var e=n(74848),I=n(8457),b=n(26264),v=n(23688),P=n(44199),x=n(35177),F=n(16742),W=n(29584),$=n(63369),o=n(96540),_=Object.defineProperty,ne=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,L=(t,s,a)=>s in t?_(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,w=(t,s)=>{for(var a in s||(s={}))T.call(s,a)&&L(t,a,s[a]);if(ee)for(var a of ee(s))S.call(s,a)&&L(t,a,s[a]);return t},Y=(t,s)=>ne(t,fe(s));const Ae=(0,o.createContext)({getAsset:t=>null,setAsset:(t,s)=>{}}),be=5,Tt=({children:t})=>{const[s,a]=(0,o.useState)({});function d(){return new Date().getTime()}function l(){return d()+be*60*1e3}const c={getAsset:i=>s[i]&&d()<=s[i].expiresAt?s[i]:null,setAsset:(i,u)=>{a(r=>Y(w({},r),{[i]:Y(w({},u),{expiresAt:l()})}))}};return(0,e.jsx)(Ae.Provider,{value:c,children:t})};var lt=n(95455),Nt=n(50882),ct=n(88774),Ke=n(65504),ae=n(69254),N=n(52114),p=n(1279),Ce=n(21094),Ge=n(7668),he=n(19376),Fe=n(73241);const ce=({symbol:t,name:s,iconUrl:a,blockchain:d,value:l,disabled:c,balance:i,contractAddress:u,isRwa:r})=>(0,e.jsx)(Ge.sx,{value:l,disabled:c,className:"cursor-pointer",children:({checked:h})=>(0,e.jsxs)("div",{className:`flex items-center justify-between ${c?"opacity-50":"opacity-100"}`,children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(Ke.q,{src:a,name:s,network:u?d:void 0}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(N.E,{testid:"asset-record-symbol",type:p.jK.TITLE,theme:h?p.Il.BRAND:p.Il.PRIMARY,children:t}),r&&(0,e.jsx)(he.v,{size:Fe.V.SMALL,theme:Fe.x.SECONDARY,children:"RWA"}),d.displayName&&(0,e.jsx)(Nt.E,{text:d.displayName})]}),(0,e.jsx)(N.E,{testid:"asset-record-name",type:p.jK.TITLE,theme:p.Il.THIRD,children:s})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[i&&parseFloat(i)>0&&(0,e.jsx)(ae.h,{testid:"asset-record-balance",amountType:Ce.Cu.CRYPTO,value:parseFloat(i),textType:p.jK.TITLE,theme:h?p.Il.BRAND:p.Il.PRIMARY}),h&&(0,e.jsx)(ct.S,{width:20,height:20,colorClass:"text-primary"})]})]})});var de=n(11377);const Ie=["XsDoVfqeBukxuZHWhdvWHBhgEHjGNst4MLodqsJHzoB","Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh","XsueG8BtpquVJX9LVLLEGuViXUungE6WmK5YZ3p3bd1","XsP7xzNPvEHS1m6qfanPUGjNmdnmsLKEoNAnHjdxxyZ","XsoCS1TfEyfFhfvj8EtZ528L3CaKBDBRqRapnBbDF2W","Xs8S1uUs1zvS2p7iwtsG3b6fkhpvmwz4GYU3gWAmWHZ","XsCPL9dNWBMvFtTmwcCA5v3xWPSMEBCszbQdiLLq6aN","Preb5VKsmKgMGhMKUhDpe7A2AhMDmrZtMMZmvFEhLbU","Xsv9hRk1z5ystj9MhnA7Lq4vjSsLwzL2nxrwmwtD3re","XsvNBAYkrDRNhA7wPHQfX3ZUXZyZLdnCQDfHZ56bzpg","Xs7ZdzSHLU9ftNJsii5fCeJhoRWSC32SQGzGQtePxNu","XsbEhLAtcf6HdfpFZ5xEMdqW8nfAvcsP5bdudRLJzJp","Prep57BLk9uKWRzKigtQBbrYFxcDXtHuCjxFRM5UXAS","XsaQTCgebC2KPbf27KUhdv5JFvHhQ4GDAPURwrEhAzb","Xsa62P5mvPszXL1krVUnU5ar38bBSVcWAB6fmPCo5Zu","PreYKD2kJ5xGgoZ644VPfbEN7sW8bWCUREHr5S3ebV9","Xs3eBt7uRfJX8QUs4suhyU8p2M6DoUDrJyWBa8LLZsg","PrekBgzytydXoDTrH5NW9ABP68c96twxML8oV1NnV8d","PreYPq1LdVBhKsYC3nRmZW5Y9yJXwSuDYmUSikFCwGS","Xs2yquAgsHByNzx68WJC55WHjHBvG9JsMB7CWjTLyPy","PreGERrFuZAJqTxJ5oC3DeQmfdrniNzJgqKGFb2ZLE6","XszvaiXGPwvk2nwb3o9C1CX4K6zH8sez11E6uyup6fe","XsqE9cRRpzxcGKDXj1BJ7Xmg4GRhZoyY1KpmGSxAWT2"],De=["0x9DCf7f739B8C0270E2FC0Cc8D0DaBe355a150dBa","0x3807562a482b824c08a564dfefcc471806d3e00a","0x2Df38cA485D01fC15e4FD85847ed26b7EF871c1c","0x0692481C369E2BDc728A69ae31b848343a4567Be","0xeD3618Bb8778F8eBBe2f241Da532227591771D04","0x71d24Baeb0A033ec5F90FF65C4210545AF378D97","0xD08DDb436e731f32455Fe302723eE0FD2E9E8706","0x73d2ccEE12C120E7DA265a2dE9d9f952a0101b4f","0x21deafD91116FCe9fE87C8f15Bde03f99a309b72","0x4604b0b581269843ac7a6b70A5FC019E7762e511","0x06954faa913fA14c28Eb1b2e459594F22f33f3dE","0x77A1a02e4a888ADA8620b93C30dE8a41E621126c","0x4EFD92F372898B57F292De69fCe377dd7D912bDd","0x3859385363f7BB4Dfe42811cCF3F294FcD41dd1D","0xCa468554e5C0423Ee858fe3942c9568C51FcAa79","0x28151F5888833D3d767C4d6945a0Ee50D1B193E3","0x4111b60bc87F2Bd1e81E783E271D7F0ec6EE088B","0xD8e26FcC879b30cB0a0B543925a2B3500f074D81","0xFdA09936DbD717368De0835bA441d9E62069d36f","0xFEFf7a377A86462F5a2A872009722C154707F09e","0x2ca12a3F9635fD69C21580def14F25C210cA9612","0xF404E5f887dBd5508e16a1198fCDD5DE1A4296B8","0xfF7CF16aA2fFc463b996DB2f7B7cf0130336899D","0x5Bcd8195E3Ef58f677aeF9eBC276B5087c027050","0xE3419710c1f77D44B4DaB02316d3f048818C4E59","0xf15FbC1349ab99ABAd63db3f9A510BF413bE3BeF","0xb035c3d5083bdc80074F380aeBc9Fcb68aBa0A28","0x980a1001ee94e54142b231f44C7CA7c9DF71FBe1","0x25018520138bbaB60684AD7983D4432E8B8E926B","0x5Ce215d9c37a195DF88e294a06B8396C296B4e15","0x74a03d741226f738098C35da8188E57acA50d146","0x8d05432C2786e3F93f1a9A62b9572DBf54f3ea06","0x01B19c68f8A9eE3a480dA788ba401cFAbdf19B93","0x5Bf1b2A808598C0eF4Af1673a5457d86fE6d7B3d","0xdeB6B89088cA9B7d7756087c8a0F7C6DF46f319C","0x050362Ab1072Cb2Ce74d74770E22A3203Ad04ee5","0x998f02A9E343EF6E3E6f28700d5A20F839fD74E6","0x82106347dDbB23cE44Cf4cE4053Ef1adf8b9323B","0xaB02fc332e9278eBCbbC6B4a8038050c01D15F69","0x908266C1192628371Cff7AD2F5Eba4dE061a0ac5","0xA9431d354cFAD3c6B76E50f0e73b43D48Be80CD0","0x4D21aFfD27183B07335935F81A5C26b6A5A15355","0xc3D93B45249E8E06cfeB01d25A96337E8893265d","0x3cE219D498D807317F840f4CB0f03FA27dd65046","0x0C1f3412A44Ff99E40bF14e06e5Ea321aE7B3938","0x4AD2118Da8a65eaa81402A3d583FEF6eE76BDf3F","0x9d4C6AD12B55E4645b585209F90Cc26614061E91","0x8a23C6BaadB88512b30475C83Df6A63881e33e1E","0x339ce23a355ed6D513DD3e1462975C4eCD86823a","0x0c666485b02F7A87d21AdD7AEb9F5e64975AA490","0x3632DEa96A953C11dac2f00b4A05a32CD1063fAE","0xbc843b147DB4C7E00721d76037b8b92e13AfE13f","0x8F3E41b378ae010c46d255F36bFC1D303b52dceb","0x3Cafdbfe682aec17d5acE2f97A2f3ab3dCf6a4A9","0x34bfdFF25F0fdA6d3ad0c33F1e06c0D40bD68885","0x41765F0FCddC276309195166C7A62AE522FA09ef","0x0d54D4279B9E8c54cD8547c2C75A8Ee81A0BcaE8","0x03C1EC4CA9DBb168E6Db0DeF827c085999CBffaF","0x55720eF5b023Fd043AE5F8D2e526030207978950","0xbb8774FB97436d23d74C1b882E8E9A69322cFD31","0x5D1a9a9B118fF19721e0111f094f2360b6Ef7A2f","0xbA47214eDd2bb43099611b208f75E4b42FDcfEDc","0x2Bc7Ff0C5dA9F1a4A51F96e77C5b0F7165DC06d2","0x25d3f236B2d61656eebdeA86Ac6D42168e340011","0x241958c86c7744d15d5f6314BA1Ea4c81DDA2896","0xAbA9Ae731Aad63335C604E5f6E6A5db2e05f549d","0xFd50Fc4E3686a8DA814c5C3D6121d8aB98a537F0","0xF042cfa86cf1D598a75Bdb55c3507a1F39f9493b","0x57270D35A840BC5C094da6FBeCA033FB71eA6Ab0","0xD904bCf89B7CedF5c89f9Df7e829191D695F847E","0xd5C5B2883735Fa9B658Dd52e2FCC8d7c0f1A42Ce","0x14c3abF95Cb9C93a8b82C1CdCB76D72Cb87b2d4c","0xA29dC2102dfc2a0A4A5dCb84Af984315567c9858","0x691b126cF619707Ed5d16CaB1B27C000aa8De300","0x6cc0afD51CE4Cb6920B775F3D6376Ab82b9A93Bb","0x4C82c8cD9a218612DCe60b156B73A36705645e3b","0xCabD955322dfbf94C084929ac5E9Eca3fEB5556F","0xdB57d9C14e357Fc01E49035a808779Df41E9B4e2","0x7042a8fFc7c7049684BfBc2fcb41b72380755a43","0x2D1F7226Bd1F780AF6B9A49DCC0aE00E8Df4bDEE","0x075756F3b6381a79633438fAA8964946bf40163d","0xB812837b81a3a6b81d7CD74CfB19A7f2784555E5","0xaC37c20C1d0E5285035e056101a64e263Ff94a41","0x590F21186489cA1612f49a4B1ff5c66acD6796A9","0xf6b1117ec07684D3958caD8BEb1b302bfD21103f","0x7a0F89c1606f71499950AA2590d547c3975B728E","0xE51bA774ebF6392c45Bf1d9E6b334d07992460d3","0xf192957AE52dB3eb088654403CC2eDeD014ae556","0x8bCF9012f4b0c1C3D359eDb7133C294f82f80790","0x59644165402b611b350645555B50Afb581C71EB2","0x070D79021dD7e841123cB0CF554993bF683c511D","0x992651BFeB9A0DCC4457610E284ba66D86489d4d","0x0c8276E4FeC072cf7854Be69c70F7773D1610857","0x032deC3372F25C41EA8054B4987a7c4832CDB338","0x62cA254a363dc3c748e7E955c20447aB5bF06fF7","0xF3e4872e6a4cF365888D93b6146a2bAA7348F1A4","0x2816169A49953C548BfEb3948dCF05c4A0E4657D","0x4f0CA3df1c2e6b943cf82E649d576ffe7B2fABCF","0xe5b26BA77E6a4d79a7c54a5296d81254269D9700","0x0e397938C1Aa0680954093495B70A9F5e2249aBa","0xFeDC5f4a6c38211c1338aa411018DFAf26612c08","0x073E7a0669833d356fa88ca65CC6D454EFaAa3c5","0xcDD60D15125bf3362b6838D2506b0Fa33bc1a515","0xfDb46864A7C476F0914c5E82CdED3364a9F56F8a"],Ze="c20000714";function ve(t){return t.address?t.blockchain.name.toLowerCase()===de.J.solana.toLowerCase()?Ie.includes(t.address):t.blockchain.name.toLowerCase()===de.J.ethereum.toLowerCase()?De.includes(t.address):!1:!1}var Q=n(64145),Ye=n(89408),et=n(26858),we=n(47991),J=n(75485),ze=n(10537),Ee=n(82361),kt=n(69275),dt=n(79960),ut=n(33055),Rt=n(29251),Bt=Object.defineProperty,Wt=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,Se=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,tt=(t,s,a)=>s in t?Bt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,Ne=(t,s)=>{for(var a in s||(s={}))Te.call(s,a)&&tt(t,a,s[a]);if(Se)for(var a of Se(s))Ut.call(s,a)&&tt(t,a,s[a]);return t},ke=(t,s)=>Wt(t,Oe(s)),Vt=(t,s,a)=>new Promise((d,l)=>{var c=r=>{try{u(a.next(r))}catch(h){l(h)}},i=r=>{try{u(a.throw(r))}catch(h){l(h)}},u=r=>r.done?d(r.value):Promise.resolve(r.value).then(c,i);u((a=a.apply(t,s)).next())});const pt=t=>{const s=(0,ze.n)(),a=(0,dt.t)(),d=(0,Ee.B)();return(0,o.useMemo)(()=>t.reduce((l,c)=>{var i;const u=d.find(r=>r.id===c.assetId);return l.push(ke(Ne({},c),{fiat:u,blockchain:s[c.blockchainId],balance:((i=a[c.assetId])==null?void 0:i.balance)||"0"})),l},[]).sort(J.JG),[t,a,d,s])},je=t=>{const s=(0,we.P)(),[a,d]=(0,o.useState)(null),l=(0,o.useMemo)(()=>s.find(i=>t===i.assetId),[s,t]);(0,o.useEffect)(()=>{if(l||!t)return;Vt(null,null,function*(){const{address:u}=(0,J.$5)(t),{data:r}=yield Q.YW.emit(Ye.A.SEARCH_ASSETS,{query:u,networks:[(0,J.er)(t)],includeNonCustomTokenNetworks:!0});r?.length&&d(r[0])})},[l,t]);const c=l||a;return pt(c?[c]:[])},Ht=(t,s)=>{const a=(0,we.P)(),d=(0,ut.A)(),l=(0,kt.o)(),c=(0,o.useMemo)(()=>a.filter(E=>t.includes((0,J.er)(E.assetId))),[a]),i=(0,ze.n)(),u=(0,et.Mr)(Ze),r=pt(c),h=(0,o.useMemo)(()=>{if(d?.type===Rt.S.PRIVATE_KEY&&!l[parseInt((0,J.X2)(Ze))]){const E=a.find(A=>!!l[parseInt((0,J.X2)(A.assetId))]);return ke(Ne({},E),{blockchain:i[E.blockchainId]})}return null},[d]);return(0,o.useMemo)(()=>{if(s)return ke(Ne({},s),{blockchain:i[s.blockchainId]});const E=r.filter(C=>!!parseFloat(C.balance)),A=ke(Ne({},u),{blockchain:i[u.blockchainId]});return E.length>0?E[0]:h||A},[s,r,i,u,h])};var ft=n(8360),ht=n(8168),Re=n(22146),st=n(79830),Kt=n(38795),ge=n(2543),oe=n(6442),Gt=Object.defineProperty,Zt=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,Qs=Object.prototype.propertyIsEnumerable,ds=(t,s,a)=>s in t?Gt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,mt=(t,s)=>{for(var a in s||(s={}))ue.call(s,a)&&ds(t,a,s[a]);if(xt)for(var a of xt(s))Qs.call(s,a)&&ds(t,a,s[a]);return t},vt=(t,s)=>Zt(t,Yt(s));const $s=({header:t,defaultAssets:s,reservedAsset:a,scopedBlockchain:d,selectedAsset:l,onAssetSelect:c,opened:i,onClose:u})=>{const{formatMessage:r}=(0,oe.A)(),h=je(d),E=(0,ze.n)(),[A,C]=(0,o.useState)(""),[j,g]=(0,o.useState)(!1),{flattenData:D,isFetching:H,setQuery:Z}=(0,Kt.r)([d],!0),G=(0,o.useMemo)(()=>{var f,O,V,me;if(D.length===0)return s;const le=(f=s.without)==null?void 0:f.items,Ve=(O=s.balance)==null?void 0:O.items,X=new Set([...(V=le?.map(y=>y.assetId))!=null?V:[],...(me=Ve?.map(y=>y.assetId))!=null?me:[]]),He=D.filter(y=>!X.has(y.assetId));return vt(mt({},s),{without:vt(mt({},s.without),{items:[...le??[],...He.map(y=>vt(mt({},y),{blockchain:E[y.blockchainId]}))]})})},[s,D,E]),z=A.length>0?{search:{title:r({id:"asset-selection-modal.search-results-category"}),items:[...h.filter(f=>f.symbol.toLowerCase().includes(A.toLowerCase())||f.name.toLowerCase().includes(A.toLowerCase())),...D.map(f=>vt(mt({},f),{blockchain:E[f.blockchainId]}))]}}:G,se=(0,o.useCallback)((0,ge.debounce)(f=>{Z(f)},400),[]);function re(f){C(f.target.value)}function R(f){let O;for(const V of Object.keys(z))if(O=z[V].items.find(me=>me.assetId===f),O){c(O);break}ie()}function ie(){C(""),u()}return(0,o.useEffect)(()=>{i&&Z("")},[i,Z]),(0,o.useEffect)(()=>{const f=se;return A.length>0?(g(!0),f(A)):(g(!1),f("")),()=>f.cancel()},[A]),(0,o.useEffect)(()=>{H||g(!1)},[H]),(0,e.jsx)(Re.a,{title:t,opened:i,onClose:ie,children:(0,e.jsxs)("div",{className:"flex flex-col min-h-[400px] space-y-4",children:[(0,e.jsx)(ft.D,{testid:"assets-search-input",placeholder:r({id:"asset-selection-modal.input-placeholder"}),value:A,onChange:re}),j?(0,e.jsx)("div",{className:"flex justify-center",children:(0,e.jsx)(st.y,{})}):(0,e.jsx)(Ge.z6,{value:l,onChange:R,children:Object.keys(z).filter(f=>z[f].items.length>0||A!=="").map(f=>(0,e.jsx)(ht.b,{title:z[f].title,children:z[f].items.length>0?z[f].items.map(O=>(0,e.jsx)(ce,{name:O.name,symbol:O.symbol,iconUrl:O.iconUrl,blockchain:O.blockchain,balance:O.balance,value:O.assetId,contractAddress:O.address,disabled:a===O.assetId,isRwa:ve(O)},O.assetId)):(0,e.jsx)(lt.B,{})},f))})]})})},nt=50,zt=10,Xt=nt-zt*2,At=Xt*2*Math.PI,Js=({progress:t})=>{const s=At-t/100*At;return(0,e.jsx)("div",{className:"relative w-6 h-6",children:(0,e.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,e.jsx)("circle",{className:"text-backgroundTertiary stroke-current",strokeWidth:zt,cx:nt,cy:nt,r:Xt,fill:"transparent"}),(0,e.jsx)("circle",{className:"text-primary -rotate-90 origin-[50%_50%] progress-ring__circle stroke-current",style:{transition:"stroke-dashoffset 0.35s"},strokeWidth:zt,strokeLinecap:"round",cx:nt,cy:nt,r:Xt,fill:"transparent",strokeDasharray:`${At} ${At}`,strokeDashoffset:s})]})})},qs=60,_s=100,en=({isLoading:t,rate:s,refreshInterval:a,runCountdown:d,onCountdownFinish:l})=>{const{formatMessage:c}=(0,oe.A)(),[i,u]=(0,o.useState)(0),r=a+1,h=r*1e3/_s,E=(r-i)*1e3/h;return(0,o.useEffect)(()=>{let A;return i>1?A=setTimeout(()=>{u(C=>C-1)},1e3):i===1&&l(),()=>{clearTimeout(A)}},[i]),(0,o.useEffect)(()=>{u(d?r:0)},[d]),(0,e.jsx)("div",{className:"flex items-center space-x-2",children:(0,e.jsx)("div",{className:`flex items-center space-x-1 min-h-6 ${t?"opacity-50":"opacity-100"}`,children:s?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Js,{progress:E}),(0,e.jsxs)(N.E,{theme:p.Il.SECONDARY,children:[s.fromAsset.amount," ",s.fromAsset.symbol]}),(0,e.jsx)(N.E,{theme:p.Il.SECONDARY,children:"="}),(0,e.jsxs)(N.E,{theme:p.Il.SECONDARY,children:[s.toAsset.amount," ",s.toAsset.symbol]})]}):(0,e.jsxs)(N.E,{theme:p.Il.SECONDARY,children:[c({id:"dashboard.find-best-price"}),"..."]})})})},tn=({name:t,iconUrl:s,value:a})=>(0,e.jsx)(Ge.sx,{as:"div",value:a,className:"cursor-pointer",children:({checked:d})=>(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(Ke.q,{src:s,name:t}),(0,e.jsx)(N.E,{type:p.jK.TITLE,theme:d?p.Il.BRAND:p.Il.PRIMARY,children:t})]}),(0,e.jsx)("div",{className:"flex items-center space-x-1",children:d&&(0,e.jsx)(ct.S,{width:20,height:20,colorClass:"text-primary"})})]})});function sn(t){const s=(0,ze.n)(!0);return(0,o.useMemo)(()=>s.filter(a=>t.includes((0,J.er)(a.coinId))),[t,s])}const nn=({domains:t,selectedNetwork:s,onNetworkSelect:a,opened:d,onClose:l})=>{const{formatMessage:c}=(0,oe.A)(),i=sn(t),[u,r]=(0,o.useState)(""),h=u.length>0?i.filter(j=>{var g;const D=u.toLowerCase().trim();return j.symbol.toLowerCase().includes(D)||j.name.toLowerCase().includes(D)||((g=j.displayName)==null?void 0:g.toLowerCase().includes(D))}):i;function E(j){r(j.target.value)}function A(j){const g=i.find(D=>D.id===j);g&&a(g),C()}function C(){r(""),l()}return(0,e.jsx)(Re.a,{title:c({id:"network-selection-modal.choose-network"}),opened:d,onClose:C,children:(0,e.jsxs)("div",{className:"flex flex-col min-h-[400px] space-y-4",children:[(0,e.jsx)(ft.D,{placeholder:c({id:"network-selection-modal.input-placeholder"}),value:u,onChange:E}),(0,e.jsx)(Ge.z6,{value:s,onChange:A,className:"space-y-4",children:h.length>0?h.map(j=>{var g;return(0,e.jsx)(tn,{name:(g=j.displayName)!=null?g:j.name,iconUrl:j.iconUrl,value:j.id},j.id)}):(0,e.jsx)(lt.B,{})})]})})};var Ct=n(2454),Qt=n(33647),q=n(68157);function Ft(t){return(0,q.GV)(a=>a.swap.settings)[t]}var Et=n(67008),xe=n(4387),jt=n(56120);const an=({opened:t,onClose:s})=>{const{formatMessage:a}=(0,oe.A)(),d=Ft("mev"),l=Ft("thorchainStreams"),c=Ft("solanaTurboSwaps"),i=Ft("environment"),u=(0,o.useMemo)(()=>(0,ge.uniqueId)("mev-tooltip-"),[]),r=(0,o.useMemo)(()=>(0,ge.uniqueId)("thorchain-tooltip-"),[]),h=(0,o.useMemo)(()=>(0,ge.uniqueId)("solana-tooltip-"),[]),E=(0,o.useMemo)(()=>(0,ge.uniqueId)("env-tooltip-"),[]),A=!1,C=()=>{q.M_.dispatch(xe.W.actions.toggleMev())},j=()=>{q.M_.dispatch(xe.W.actions.toggleThorchainStreams())},g=()=>{q.M_.dispatch(xe.W.actions.toggleSolanaTurboSwaps())},D=H=>{q.M_.dispatch(xe.W.actions.updateEnvironment(H))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Re.a,{title:a({id:"settings-modal.title"}),opened:t,onClose:s,children:(0,e.jsxs)("div",{className:"flex flex-col space-y-5",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{type:p.jK.TITLE,children:a({id:"settings-modal.mev-protection"})}),(0,e.jsx)("div",{"data-tooltip-id":u,"data-tooltip-content":a({id:"settings-modal.mev-tooltip"}),children:(0,e.jsx)(Ct.m,{colorClass:"text-iconNormal",height:16,width:16})})]}),(0,e.jsx)(Qt.d,{testid:"settings-mev-switch",checked:d,onChange:C})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{type:p.jK.TITLE,children:a({id:"settings-modal.thorchain-streaming",defaultMessage:"Thorchain streams"})}),(0,e.jsx)("div",{"data-tooltip-id":r,"data-tooltip-content":a({id:"settings-modal.thorchain-tooltip",defaultMessage:"Gives better quote, but takes longer to process the swap"}),children:(0,e.jsx)(Ct.m,{colorClass:"text-iconNormal",height:16,width:16})})]}),(0,e.jsx)(Qt.d,{testid:"settings-thorchain-switch",checked:l,onChange:j})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{type:p.jK.TITLE,children:a({id:"settings-modal.solana-turbo-swaps",defaultMessage:"Solana turbo swaps"})}),(0,e.jsx)("div",{"data-tooltip-id":h,"data-tooltip-content":a({id:"settings-modal.solana-tooltip",defaultMessage:"Control how fast your transactions will land. Turbo costs more SOL, but will also be faster."}),children:(0,e.jsx)(Ct.m,{colorClass:"text-iconNormal",height:16,width:16})})]}),(0,e.jsx)(Qt.d,{testid:"settings-solana-switch",checked:c,onChange:g})]}),A&&(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{type:p.jK.TITLE,children:"Environment"}),(0,e.jsx)("div",{"data-tooltip-id":E,"data-tooltip-content":"Reload extension for environment change to take effect",children:(0,e.jsx)(Ct.m,{colorClass:"text-iconNormal",height:16,width:16})})]}),(0,e.jsxs)("select",{className:"bg-transparent outline-none",value:i,onChange:H=>D(H.target.value),children:[(0,e.jsx)("option",{value:jt.g.STAGING,children:jt.g.STAGING}),(0,e.jsx)("option",{value:jt.g.PRODUCTION,children:jt.g.PRODUCTION})]})]})]})}),(0,e.jsx)(Et.m_,{id:u,className:"tw-tooltip"}),(0,e.jsx)(Et.m_,{id:r,className:"tw-tooltip"}),(0,e.jsx)(Et.m_,{id:h,className:"tw-tooltip"}),(0,e.jsx)(Et.m_,{id:E,className:"tw-tooltip"})]})};var on=n(9505),Le=n(65512),rn=n(16665);const ln=0,cn=30,$t="2",dn=({defaultSlippage:t=$t,onSave:s,opened:a,onClose:d})=>{const{formatMessage:l}=(0,oe.A)(),[c,i]=(0,o.useState)(t);function u(A){const C=A.target.value,j=Number(C);isNaN(j)||C.startsWith("0x")||i(C)}const r=(0,on.R)({value:c,min:ln,max:cn});function h(){s(c),d()}function E(){d(),i(t)}return(0,o.useEffect)(()=>{i(t)},[t]),(0,e.jsx)(Re.a,{title:l({id:"swap-details.slippage-tolerance"}),opened:a,onClose:E,children:(0,e.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,e.jsx)(rn.S,{onlyPositive:!0,value:c,validation:r,onChange:u}),(0,e.jsx)(Le.$,{onClick:h,disabled:!r.isValid,"data-testid":"save-slippage-button",children:l({id:"generic.save"})})]})})};var Xe=n(45132),un=n(7707),pn=n(26113),fn=(t,s,a)=>new Promise((d,l)=>{var c=r=>{try{u(a.next(r))}catch(h){l(h)}},i=r=>{try{u(a.throw(r))}catch(h){l(h)}},u=r=>r.done?d(r.value):Promise.resolve(r.value).then(c,i);u((a=a.apply(t,s)).next())});const Be=t=>{const s=(0,Ee.B)(),{getAsset:a}=(0,o.useContext)(Ae);return(0,o.useMemo)(()=>{var d;if(!t)return null;const l=a(t);if(l)return l.price;const c=(d=s.find(i=>i.id===t))==null?void 0:d.price.toString();return c??null},[t])},hn=(t,s)=>{var a;const[d,l]=(0,o.useState)("0"),[c,i]=(0,o.useState)("0"),[u,r]=(0,o.useState)(!1),{getAsset:h,setAsset:E}=(0,o.useContext)(Ae),A=(0,un.A)((a=t?.assetId)!=null?a:""),C=(0,Ee.B)(),j=(0,o.useMemo)(()=>{var D;if(t)return(D=C.find(H=>H.id===t.assetId))==null?void 0:D.price.toString()},[t?.assetId]),g=parseFloat(s)*parseFloat(j??c);return(0,o.useEffect)(()=>{fn(null,null,function*(){if(t&&(l(A),A==="0"&&!j)){let D="0",H="0";const Z=h(t.assetId);if(Z)D=Z.balance,H=Z.price;else{r(!0);const G=yield Q.YW.emit(Xe.A.FETCH_SWAP_ASSET_BALANCE,t);D=G.balance,H=G.price,E(t.assetId,G)}l(D),i(H)}}).catch(pn.Z).finally(()=>r(!1))},[t?.assetId]),{walletBalance:d,fiatAmount:g,isLoading:u}};var xn=n(21190),Jt=n(94893),te=n(52619),us=n(152),ps=n(41327),mn=n(69666),vn=n(98005),An=n(40980),Cn=n(42201),Fn=n(50784),fs=n(68632),gt=n(48346),En=n(21612),jn=n(64920),We=n(15192),U=(t=>(t.FROM="FROM",t.TO="TO",t))(U||{}),hs=n(86170),gn=(t,s,a)=>new Promise((d,l)=>{var c=r=>{try{u(a.next(r))}catch(h){l(h)}},i=r=>{try{u(a.throw(r))}catch(h){l(h)}},u=r=>r.done?d(r.value):Promise.resolve(r.value).then(c,i);u((a=a.apply(t,s)).next())});const xs=({origin:t,network:s,asset:a,amount:d,priceImpact:l,isLoading:c=!1,disabled:i=!1,children:u,onAmountChange:r,onNetworkClick:h,onTokenClick:E,onAmountExcess:A,testid:C})=>{var j;const{formatMessage:g}=(0,oe.A)(),D=(0,En.s)(),{baseCurrencyType:H,currency:Z}=(0,hs.P)(),{walletBalance:G,fiatAmount:z,isLoading:se}=hn(a,d.length>0?d:"0"),re=t===U.FROM&&!a?.address,R=parseFloat(G)>0,ie=t===U.FROM&&(R||a?.isBuyCryptoEnabled),f=t===U.TO&&c,O=(0,jn.W)((0,We.A)(G),5),V=(()=>{if(!se&&t===U.FROM)try{return new We.A(d).gt(G)}catch{}return!1})(),me=o.Children.toArray(u).filter(Boolean).length>0,le=l&&parseFloat(l)!==0,Ve=le&&parseFloat(l)>0;function X(){a&&r?.(G)}function He(){return gn(this,null,function*(){yield D(`${b.b.BUY}/${a?.assetId}`)})}return(0,o.useEffect)(()=>{A?.(V)},[V]),(0,e.jsxs)(us.Z,{error:V,noPadding:!0,children:[(0,e.jsxs)("div",{className:"flex flex-col space-y-3 p-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{theme:p.Il.SECONDARY,type:p.jK.CAPTION,children:g({id:`generic.${t===U.FROM?"from":"to"}`})}),(0,e.jsx)(Jt.c,{onClick:()=>h(t),children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)(Ke.q,{src:s.iconUrl,name:s.name,size:fs.Y.XXSMALL}),(0,e.jsx)("div",{className:"ml-1 mr-px",children:(0,e.jsx)(N.E,{type:p.jK.CAPTION,theme:p.Il.SECONDARY,weight:p.nG.MEDIUM,children:(j=s.displayName)!=null?j:s.name})}),(0,e.jsx)(ps.v,{width:16,height:16,colorClass:"text-iconNormal"})]})})]}),a&&(0,e.jsx)("div",{className:"flex flex-1 items-center justify-end",children:se?(0,e.jsx)(gt.S,{widthClass:"w-22.5",heightClass:"h-4"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(vn.l,{width:16,height:16,colorClass:"text-iconNormal"}),(0,e.jsx)("div",{className:"flex ml-1.25",children:(0,e.jsx)(N.E,{testid:C+"-wallet-balance",type:p.jK.CAPTION,theme:p.Il.SECONDARY,children:O})}),!re&&ie&&(0,e.jsx)("div",{className:"ml-2.5",children:(0,e.jsx)(Le.$,{testid:C+"-max-button",theme:te.ry.INVERSE_BRAND,shape:te.dB.TINY,disabled:i,onClick:R?X:He,children:(0,e.jsx)(N.E,{theme:p.Il.BRAND,type:p.jK.CAPTION,weight:p.nG.MEDIUM,children:R?"Max":g({id:"generic.buy"})})})})]})})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[a?(0,e.jsx)(xn.W,{testid:C+"-asset-selector",iconUrl:a.iconUrl,symbol:a.symbol,contractAddress:a.address,onClick:()=>E(t)}):(0,e.jsxs)("div",{className:"flex items-center space-x-2.5",children:[(0,e.jsx)(Le.$,{testid:C+"-asset-selector-empty",onClick:()=>E(t),shape:te.dB.ICON_CIRCLE,theme:te.ry.SUBTLE,fullWidth:!1,children:(0,e.jsx)(mn.c,{width:20,height:20,colorClass:"text-primary"})}),(0,e.jsx)(Jt.c,{onClick:()=>E(t),children:(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(N.E,{type:p.jK.TITLE,weight:p.nG.SEMIBOLD,children:g({id:"dashboard.select-token"})}),(0,e.jsx)(ps.v,{width:20,height:20,colorClass:"text-iconNormal"})]})})]}),a?(0,e.jsxs)("div",{className:"flex flex-col w-full items-end space-y-1 overflow-hidden",children:[t===U.FROM?(0,e.jsx)(An.R,{testid:C+"-amount-input",placeholder:"0",value:d,disabled:i,amountType:Cn.yf.CRYPTO,onChange:y=>r?.(y)}):c?(0,e.jsx)(gt.S,{widthClass:"w-40",heightClass:"h-8"}):(0,e.jsx)(ae.h,{fitFontSizeToContainer:!0,testid:C+"-amount-input-readonly",amountType:Ce.Cu.CRYPTO,textType:p.jK.HEADLINE,value:d}),se||f?(0,e.jsx)(gt.S,{widthClass:"w-28",heightClass:"h-4"}):V?(0,e.jsx)(N.E,{type:p.jK.CAPTION,theme:p.Il.ERROR,weight:p.nG.MEDIUM,children:g({id:"dashboard.balance-exceeded"})}):(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)(ae.h,{testid:C+"-amount-fiat",textType:p.jK.CAPTION,theme:p.Il.SECONDARY,weight:p.nG.NORMAL,prefix:z>0?"\u2248":"",amountType:H,value:z,currency:Z}),le&&(0,e.jsxs)(N.E,{type:p.jK.CAPTION,weight:p.nG.MEDIUM,theme:Ve?p.Il.SUCCESS:p.Il.ERROR,children:["(",Ve&&"+",l,"%)"]})]})]}):(0,e.jsx)("div",{className:"flex text-end",children:(0,e.jsx)(N.E,{type:p.jK.HEADLINE,children:"0"})})]})]}),me&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fn.c,{noMargin:!0}),(0,e.jsx)("div",{className:"px-4 py-2",children:u})]})]})},at=({label:t,loading:s,children:a,wrap:d=!0})=>(0,e.jsxs)("li",{className:"flex items-center justify-between py-2 space-x-1.25",children:[(0,e.jsx)(N.E,{type:p.jK.CAPTION,theme:p.Il.SECONDARY,children:t}),(0,e.jsx)("div",{className:`flex ${d?"flex-wrap":""} items-center justify-end space-x-1.25 *:whitespace-nowrap`,children:s?(0,e.jsx)(gt.S,{widthClass:"w-22.5",heightClass:"h-4"}):a})]});var Ln=n(75321);const yn=({isLoading:t,disabled:s,receiveAsset:a,minimumAmount:d,provider:l,fees:c,slippage:i,openSlippageModal:u})=>{var r,h,E,A;const{formatMessage:C}=(0,oe.A)(),j=Be((r=c.routing.breakdown[0])==null?void 0:r.assetId),g=Be((h=c.provider.breakdown[0])==null?void 0:h.assetId),D=Be((E=c.relayer.breakdown[0])==null?void 0:E.assetId),H=Be(a.assetId),Z=c.routing.total*(j?parseFloat(j):0),G=c.provider.total*(g?parseFloat(g):0),z=c.relayer.total*(D?parseFloat(D):0),{currency:se,baseCurrencyType:re}=(0,hs.P)(),R=parseFloat(d)*(H?parseFloat(H):0),ie=l?.id!=="thorchain";return(0,e.jsx)(us.Z,{children:(0,e.jsxs)("ul",{children:[(0,e.jsxs)(at,{label:C({id:"swap-details.provider"}),loading:t,children:[(0,e.jsx)(Ke.q,{src:l?.favIconUrl,name:(A=l?.title)!=null?A:"",size:fs.Y.XSMALL}),(0,e.jsx)(N.E,{type:p.jK.CAPTION,weight:p.nG.MEDIUM,children:l?.title})]}),c.provider.total>0&&(0,e.jsx)(at,{label:C({id:"swap-details.provider-fee"}),loading:t,children:(0,e.jsxs)("div",{className:"flex flex-col text-right",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,weight:p.nG.MEDIUM,amountType:Ce.Cu.CRYPTO,value:c.provider.total,suffix:` ${c.provider.breakdown[0].symbol}`}),G>0&&(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,theme:p.Il.THIRD,amountType:Ce.Cu.FIAT,currency:se,value:G,prefix:"(\u2248",suffix:")"})]}),c.relayer.total>0&&(0,e.jsxs)("div",{children:[(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,weight:p.nG.MEDIUM,amountType:Ce.Cu.CRYPTO,value:c.relayer.total,suffix:` ${c.relayer.breakdown[0].symbol}`}),z>0&&(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,theme:p.Il.THIRD,amountType:re,value:z,currency:se,prefix:"(\u2248",suffix:")"})]})]})}),c.routing.total>0&&(0,e.jsxs)(at,{label:C({id:"swap-details.routing-fee"}),loading:t,children:[(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,weight:p.nG.MEDIUM,amountType:Ce.Cu.CRYPTO,value:c.routing.total,suffix:` ${c.routing.breakdown[0].symbol}`}),Z>0&&(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,theme:p.Il.THIRD,amountType:re,value:Z,currency:se,prefix:"(\u2248",suffix:")"})]}),(0,e.jsxs)(at,{label:C({id:"swap-details.minimum-amount-receive"}),loading:t,children:[(0,e.jsx)(ae.h,{testid:"swap-min-amount",textType:p.jK.CAPTION,weight:p.nG.MEDIUM,amountType:Ce.Cu.CRYPTO,value:d,suffix:` ${a.symbol}`}),R>0&&(0,e.jsx)(ae.h,{textType:p.jK.CAPTION,theme:p.Il.THIRD,amountType:re,currency:se,value:R,prefix:"(\u2248",suffix:")"})]}),ie&&(0,e.jsxs)(at,{label:C({id:"swap-details.slippage-tolerance"}),loading:t,wrap:!1,children:[(0,e.jsxs)(N.E,{testid:"swap-slippage",type:p.jK.CAPTION,weight:p.nG.MEDIUM,children:[i,"%"]}),(0,e.jsx)(Le.$,{disabled:s,onClick:u,theme:te.ry.TRANSPARENT,noPadding:!0,children:(0,e.jsx)(Ln.R,{width:16,height:16,colorClass:"text-iconNormal"})})]})]})})};var In=n(23207);const Dn=({quote:t,receiveAsset:s,receiveAmount:a,slippage:d,spendAsset:l,spendAmount:c,pageViewSource:i})=>{var u,r;const{trackAnalytics:h}=(0,In.s)(),E=(0,Ee.B)(),A=(0,ut.A)(),C=Be((u=t.fees.routing.breakdown[0])==null?void 0:u.assetId),j=Be((r=t.fees.provider.breakdown[0])==null?void 0:r.assetId),g=Be(s?.assetId);return{trackSwapAnalyticsEvent:()=>{var Z,G,z,se;if(!l)return;const re=t.fees.provider.total*(j?parseFloat(j):0),R=t.fees.routing.total*(C?parseFloat(C):0),ie=(0,We.A)(a).minus((0,We.A)(a).mul((0,We.A)(d).div(100))).toNumber(),f=ie*(g?parseFloat(g):0),O=(0,We.A)(c).mul((G=(Z=E.find(le=>le.id===l?.assetId))==null?void 0:Z.price)!=null?G:0).toNumber(),V=(0,We.A)(a).mul((se=(z=E.find(le=>le.id===s.assetId))==null?void 0:z.price)!=null?se:0).toNumber(),me={assetOutId:l.assetId,assetOutBlockchainId:l.blockchain.id,assetOutAmount:parseFloat(c),assetOutFiat:O,assetInId:s.assetId,assetInBlockchainId:s.blockchain.id,assetInAmount:parseFloat(a),assetInFiat:V,routingFeeAmount:t.fees.routing.total,routingFeeFiat:R,providerOrigin:t.provider.origin,providerFeeAmount:t.fees.provider.total,providerFeeFiat:re,minReceiveAmount:ie,minReceiveFiat:f,maxSlippage:parseFloat(t.slippage),walletType:A.type,pageViewSource:i};h({event:W.BQ.SWAP_TRANSACTION,props:me})},trackSwapApproveAnalyticsEvent:()=>{const Z={pageViewSource:W.Un.SWAP,providerOrigin:t.provider.origin,contract:t.approval.contract,walletType:A.type};h({event:W.BQ.SWAP_APPROVAL_TRANSACTION,props:Z})}}};var Sn=Object.defineProperty,Pn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,ms=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,vs=(t,s,a)=>s in t?Sn(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,On=(t,s)=>{for(var a in s||(s={}))bn.call(s,a)&&vs(t,a,s[a]);if(ms)for(var a of ms(s))wn.call(s,a)&&vs(t,a,s[a]);return t},Tn=(t,s)=>Pn(t,Mn(s));const Nn=(t,s,a,d,l,c)=>{var i;const{formatMessage:u}=(0,oe.A)(),r=(0,J.er)(t===U.FROM?a.coinId:l.coinId),h=je(r),E=t===U.FROM?a.id:l.id,A=(0,o.useMemo)(()=>{var g;const D=[...h,...(g=s&&s[E])!=null?g:[]];return h.length&&D.sort(J.JG),D},[(i=h[0])==null?void 0:i.assetId,s,a.id,l.id]),C=(0,o.useMemo)(()=>A.filter(g=>!!parseFloat(g.balance)),[A]),j=(0,o.useMemo)(()=>A.filter(g=>!parseFloat(g.balance)),[A]);return{headerText:t===U.FROM?u({id:"asset-selection-modal.you-pay"}):u({id:"asset-selection-modal.you-get"}),defaultAssets:Tn(On({},C.length>0?{balance:{title:u({id:"asset-selection-modal.balance-category"}),items:C}}:{}),{without:{title:j.length===0?"":u({id:"asset-selection-modal.rest-of-crypto-category"}),items:j}}),scopedBlockchain:r,reservedAsset:t===U.FROM?c?.assetId:d?.assetId,selectedAsset:t===U.FROM?d?.assetId:c?.assetId}};var kn=n(97286);const Rn=3600*1e3,Bn=t=>{const{data:s}=(0,kn.I)({queryKey:["swap-pairs"],queryFn:()=>Q.YW.emit(Xe.A.FETCH_SWAP_PAIRS,t),staleTime:Rn,refetchOnWindowFocus:!1});return s},Wn=(t,s,a,d,l,c)=>{const i=!!t&&!!s,u=i&&t.assetId===s.assetId,r=parseFloat(a)>0,h=i&&!u&&r,E=h&&!d,A=l.length>0,C=c.length>0;return{isPairSet:i,isPairIdentical:u,hasSpendAmount:r,canGetQuote:h,isSwapAllSet:E,hasQuoteError:A,hasTxError:C}};var Lt=n(62942),yt=n(63111),Un=n(81593),Vn=n(31441),Hn=n(41314),Kn=n(22670),qt=n(99360),ot=n(68969),Gn=n(56158),_t=n(28398),Zn=n(83071),Yn=n(93155),It=n(47767),zn=n(45871);const Xn=()=>{var t,s;const{search:a}=(0,It.zy)(),d=new URLSearchParams(a),l=(t=d.get("from"))!=null?t:"",c=(s=d.get("to"))!=null?s:"",i=je(l)[0],u=je(c)[0];return{qsFrom:i,qsTo:u}};var Qn=n(51594),$n=n(9389);const As="144",Cs="138",Jn=({width:t,height:s})=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t??Cs,height:s??As,viewBox:`0 0 ${Cs} ${As}`,fill:"none",children:[(0,e.jsxs)("g",{clipPath:"url(#clip0_14295_9826)",children:[(0,e.jsx)("path",{d:"M6.635 77.0871H20.069L85.7773 53.1711V48.2814L80.289 46.284L1.14355 75.0896L6.635 77.0871Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeMiterlimit:"10"}),(0,e.jsx)("path",{d:"M20.0723 84.1916V77.0871L85.7806 53.1711V60.2756L20.0723 84.1916Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M20.0723 82.0708V79.2668L85.7806 55.3477V58.1548L20.0723 82.0708Z",fill:"#48FF91",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M20.0688 77.0867H6.63477V84.1913H20.0688V77.0867Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M6.635 84.1915V77.087L1.14355 75.0895V82.1941L6.635 84.1915Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M20.0684 80.6011L85.7767 56.6852L101.854 62.5358L36.1457 86.4549",fill:"url(#paint0_linear_14295_9826)"}),(0,e.jsx)("path",{d:"M36.5527 76.1879L41.0581 77.8262",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M28.5498 80.2175L29.7533 80.6555",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M32.5156 79.6152L37.0178 81.2567",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M38.2002 81.6852L39.4037 82.1231",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M30.6555 20.9642C27.5963 22.0764 26.5314 26.8684 28.2768 31.6667C30.0222 36.465 33.8123 39.4896 36.3391 38.5696L44.518 35.5923L37.3189 18.5383L30.6555 20.9642Z",fill:"#2D9FFF"}),(0,e.jsx)("path",{d:"M37.3208 18.5409L30.6574 20.9668C27.9605 21.9466 26.8168 25.784 27.7746 29.9648L40.2288 25.4312L37.3208 18.5409Z",fill:"#1B1B1C"}),(0,e.jsx)("path",{d:"M30.6555 20.9642C27.5963 22.0764 26.5314 26.8684 28.2768 31.6667C30.0222 36.465 33.8123 39.4896 36.3391 38.5696L44.518 35.5923L37.3189 18.5383L30.6555 20.9642Z",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M32.248 25.9229C30.6223 26.5152 30.4017 29.4831 31.9045 32.0004C32.4906 32.9833 33.5523 33.9978 34.425 33.7647L39.3714 31.9657L36.5768 24.3508L32.248 25.9261V25.9229Z",fill:"#2D9FFF"}),(0,e.jsx)("path",{d:"M34.428 33.7613C35.3227 33.5218 35.8489 32.0915 34.6201 29.7506L37.8652 28.5691L39.3712 31.9623L34.4248 33.7613H34.428Z",fill:"#1B1B1C",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M32.248 25.9229C30.6223 26.5152 30.4017 29.4831 31.9045 32.0004C32.4906 32.9833 33.5523 33.9978 34.425 33.7647L39.3714 31.9657L36.5768 24.3508L32.248 25.9261V25.9229Z",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M39.5467 23.2668L32.25 25.9227C33.9482 25.3052 35.9803 27.6335 37.2279 30.5257C38.5732 33.6448 38.882 37.6429 36.3394 38.5691L43.7842 35.8596L39.5467 23.2668Z",fill:"#2D9FFF"}),(0,e.jsx)("path",{d:"M43.4567 34.884L42.8014 32.9338L38.2394 34.5942C38.2835 35.4385 38.2016 36.2262 37.959 36.8878L43.4567 34.8872V34.884Z",fill:"#1B1B1C"}),(0,e.jsx)("path",{d:"M39.5467 23.2668L32.25 25.9227C33.9482 25.3052 35.9803 27.6335 37.2279 30.5257C38.5732 33.6448 38.882 37.6429 36.3394 38.5691L43.7842 35.8596L39.5467 23.2668Z",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M60.3916 143.562C58.0633 144.41 55.357 143.285 53.2776 140.912C44.2228 131.057 40.1932 110.396 40.1932 95.2985V32.1988C40.1932 25.6614 34.894 19.4233 30.6533 20.9671L87.1683 0.396976C91.4184 -1.14995 96.7082 5.10393 96.7082 11.6288V74.7315C96.7082 104.026 107.54 118.049 109.61 120.412C111.686 122.784 116.724 123.061 116.724 123.061L60.3947 143.565L60.3916 143.562Z",fill:"url(#paint1_linear_14295_9826)"}),(0,e.jsx)("path",{d:"M40.1936 95.3021C40.1936 110.4 44.2232 131.061 53.2779 140.916C55.3541 143.288 58.0636 144.413 60.3919 143.566L116.721 123.062C116.721 123.062 111.686 122.785 109.607 120.412C107.54 118.049 96.7054 104.026 96.7054 74.732L40.1904 95.3021H40.1936Z",fill:"url(#paint2_linear_14295_9826)"}),(0,e.jsx)("path",{d:"M96.7122 74.7318V65.9481L40.1973 86.1306V95.2988C40.1973 102.454 41.1046 110.859 43.0202 118.771L99.3933 98.254C97.8212 91.893 96.7122 84.0922 96.7122 74.7287V74.7318Z",fill:"#1B1B1C",stroke:"#1B1B1C",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M60.3916 143.562C58.0633 144.41 55.357 143.285 53.2776 140.912C44.2228 131.057 40.1932 110.396 40.1932 95.2985V32.1988C40.1932 25.6614 34.894 19.4233 30.6533 20.9671L87.1683 0.396976C91.4184 -1.14995 96.7082 5.10393 96.7082 11.6288V74.7315C96.7082 104.026 107.54 118.049 109.61 120.412C111.686 122.784 116.724 123.061 116.724 123.061L60.3947 143.565L60.3916 143.562Z",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M60.3936 143.562C63.0274 142.605 64.4137 139.394 64.0955 135.686L120.425 115.182C120.74 118.89 119.356 122.098 116.723 123.058L60.3936 143.562Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M47.9189 43.5174V75.6784L74.0025 66.1826V34.0216L47.9189 43.5174Z",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M47.9189 34.9512V38.3318L64.8911 32.1566V28.7729L47.9189 34.9512Z",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M47.9189 75.6784C60.6882 71.0597 60.7008 38.864 47.9189 43.5174",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M91.0821 31.0332C92.6198 26.8694 91.49 22.6162 88.5585 21.5335C85.6269 20.4509 82.0038 22.9487 80.4661 27.1126C78.9283 31.2765 80.0581 35.5296 82.9896 36.6123C85.9212 37.6949 89.5443 35.1971 91.0821 31.0332Z",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M86.9309 29.5013C87.2667 28.5922 87.0202 27.6636 86.3803 27.4273C85.7405 27.191 84.9496 27.7364 84.6138 28.6456C84.2781 29.5548 84.5246 30.4834 85.1644 30.7197C85.8042 30.956 86.5951 30.4105 86.9309 29.5013Z",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M85.7715 21.4823V36.6586",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M79.5566 64.2281L86.9605 61.5312",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M79.5566 61.3074L90.0795 57.4763",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M79.5566 58.3868L90.0795 54.5557",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M79.5566 55.4659L90.0795 51.6348",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M79.5566 52.5451L90.0795 48.7172",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M74.0035 34.0215C61.2343 38.6402 61.2217 70.8359 74.0035 66.1825",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M53.5 125.807L57.3437 124.409",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M52.6094 123.211L71.5223 116.327",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M51.8184 120.58L68.948 114.345",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M51.1064 117.918L68.9481 111.425",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M36.1436 86.4539L101.852 62.5348L117.932 68.3885L52.2209 92.3045",fill:"url(#paint3_linear_14295_9826)"}),(0,e.jsx)("path",{d:"M96.7129 64.416V72.4405",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M131.37 64.3836H117.936L52.2246 88.2996V93.1893L57.7161 95.1899L136.858 66.3811L131.37 64.3836Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeMiterlimit:"10"}),(0,e.jsx)("path",{d:"M136.858 66.3816V73.4893L57.7158 102.295V95.1905L136.858 66.3816Z",fill:"#2D9FFF"}),(0,e.jsx)("path",{d:"M75.9346 95.6623L78.6913 87.5527L80.15 87.0234L77.3082 95.1614L75.9346 95.6623Z",fill:"#F4F4F7"}),(0,e.jsx)("path",{d:"M77.3061 88.057L74.5525 96.1666L57.7158 102.294V95.1899L77.3061 88.057Z",fill:"#F4F4F7"}),(0,e.jsx)("path",{d:"M136.858 66.3816V73.4893L57.7158 102.295V95.1905L136.858 66.3816Z",stroke:"#0500FF",strokeWidth:"0.29761",strokeMiterlimit:"10"}),(0,e.jsx)("path",{d:"M61.8942 97.7789C62.1564 97.1229 62.0008 96.444 61.5467 96.2626C61.0927 96.0812 60.5121 96.4659 60.25 97.1219C59.9879 97.778 60.1435 98.4568 60.5975 98.6383C61.0515 98.8197 61.6321 98.4349 61.8942 97.7789Z",fill:"#0500FF"}),(0,e.jsx)("path",{d:"M108.094 76.8527V83.9573L89.5654 90.6995V83.595L108.094 76.8527Z",fill:"#1B1B1C",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M90.0029 87.0806L94.65 85.4392C96.408 84.8185 95.9575 83.7442 97.1547 83.2369C98.3488 82.7297 97.8951 86.2961 99.4798 85.7133C101.065 85.1336 101.024 80.9528 102.221 80.4329C103.292 79.9698 103.131 82.3957 104.36 81.9263L107.652 80.6598",stroke:"#48FF91",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M105.237 75.8142L108.095 76.8539L89.5666 83.5961L86.709 82.5564L105.237 75.8142Z",fill:"#0500FF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M52.2246 93.1891V100.297L57.7161 102.294V95.1897L52.2246 93.1891Z",fill:"#2D9FFF",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M70.5357 93.8979L69.2786 93.4411C69.1526 93.397 68.9572 93.397 68.7934 93.4569L64.9182 94.8683C64.6 94.9849 64.2944 95.2936 64.1243 95.719C63.8628 96.3743 64.0172 97.0548 64.4708 97.2344C64.4771 97.2344 64.4866 97.2407 64.4866 97.2407L65.7437 97.6975C65.7437 97.6975 66.985 96.9697 68.0814 96.097L68.847 95.8198C69.1652 95.7001 69.4708 95.3913 69.6409 94.966C69.6598 94.9187 69.6724 94.8683 69.6882 94.821C70.3025 94.3296 70.5325 93.9011 70.5325 93.9011L70.5357 93.8979Z",fill:"#48FF91",stroke:"#0500FF",strokeWidth:"0.29761",strokeMiterlimit:"10"}),(0,e.jsx)("path",{d:"M70.5534 93.9047C70.3958 93.8417 70.2226 93.848 70.0493 93.9079L66.1741 95.3225C65.8559 95.439 65.5503 95.7478 65.3801 96.1731C65.1186 96.8285 65.273 97.509 65.7267 97.6886C65.8842 97.7516 66.0575 97.7421 66.2308 97.6791L70.106 96.2676C70.4242 96.1511 70.7298 95.8423 70.8999 95.417C71.1614 94.7617 71.0071 94.0812 70.5534 93.9016V93.9047Z",fill:"#48FF91",stroke:"#0500FF",strokeWidth:"0.29761",strokeMiterlimit:"10"}),(0,e.jsx)("path",{d:"M40.1973 84.9767V87.9665",stroke:"#0500FF",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M40.2002 84.9772L96.7151 64.4166",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M45.4404 86.0369L49.0195 87.3412",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M84.9219 72.6833L88.5009 73.9845",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M47.584 82.2904L52.0893 83.9318",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M53.2715 84.3607L54.4782 84.7986",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M58.4404 80.1189L62.9457 81.7603",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M82.959 69.4236L87.4643 71.0619",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M64.1279 82.1896L65.3315 82.6275",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M80.0186 74.2587L81.2221 74.6967",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M56.0371 80.5033L57.2406 80.9412",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M72.1152 73.3353L73.9111 73.9906",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M75.0967 74.4205L76.3002 74.8584",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M102.557 66.4966L103.76 66.9377",stroke:"#F4F4F7",strokeWidth:"0.29761",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,e.jsxs)("defs",{children:[(0,e.jsxs)("linearGradient",{id:"paint0_linear_14295_9826",x1:"66.4164",y1:"84.93",x2:"56.2464",y2:"60.0185",gradientUnits:"userSpaceOnUse",children:[(0,e.jsx)("stop",{stopColor:"#48FF91"}),(0,e.jsx)("stop",{offset:"1",stopColor:"#2D9FFF"})]}),(0,e.jsxs)("linearGradient",{id:"paint1_linear_14295_9826",x1:"54.2984",y1:"22.7251",x2:"51.006",y2:"13.8216",gradientUnits:"userSpaceOnUse",children:[(0,e.jsx)("stop",{stopColor:"#FFAEFE"}),(0,e.jsx)("stop",{offset:"0.97",stopColor:"#FFEF6A"}),(0,e.jsx)("stop",{offset:"1",stopColor:"#FFF465"})]}),(0,e.jsxs)("linearGradient",{id:"paint2_linear_14295_9826",x1:"67.8556",y1:"91.6884",x2:"85.5775",y2:"136.373",gradientUnits:"userSpaceOnUse",children:[(0,e.jsx)("stop",{stopColor:"#FFF465",stopOpacity:"0"}),(0,e.jsx)("stop",{offset:"1",stopColor:"#FFF465"})]}),(0,e.jsxs)("linearGradient",{id:"paint3_linear_14295_9826",x1:"78.147",y1:"80.1401",x2:"67.9769",y2:"55.2254",gradientUnits:"userSpaceOnUse",children:[(0,e.jsx)("stop",{stopColor:"#48FF91"}),(0,e.jsx)("stop",{offset:"1",stopColor:"#2D9FFF"})]}),(0,e.jsx)("clipPath",{id:"clip0_14295_9826",children:(0,e.jsx)("rect",{width:"136.637",height:"144",fill:"white",transform:"translate(0.681641)"})})]})]});var qn=n(58065);const _n=({opened:t,onClose:s,setSpendAsset:a,setReceiveAsset:d,pendingRawToken:l,setIsUSCitizenError:c})=>{const{formatMessage:i}=(0,oe.A)();function u(){q.M_.dispatch(xe.W.actions.setIsUSCitizen(!0)),c(!0),s()}function r(){if(!l.asset)throw new Error("pending RAW Asset is not defined.");q.M_.dispatch(xe.W.actions.setIsUSCitizen(!1)),l.swapOrigin===U.FROM?a(l.asset):d(l.asset),s()}return(0,e.jsx)(Re.a,{opened:t,onClose:s,children:(0,e.jsxs)("div",{className:"flex flex-col min-h-[316px] space-y-8 m-4 items-center",children:[(0,e.jsx)(Jn,{}),(0,e.jsx)("h2",{className:"text-textPrimary text-center font-inter text-[24px] font-bold leading-[30px]",children:i({id:"us-citizen-modal.title",defaultMessage:"Are you a US citizen?"})}),(0,e.jsx)("p",{className:"text-textSecondary text-center font-inter text-[16px] font-medium leading-[24px]",children:(0,e.jsx)(qn.A,{id:"modal.us-citizen-alert",defaultMessage:"I acknowledge and agree that these RWAs are not to be offered, sold, or delivered in the US, UK, EU, or to US Persons (as defined in Rule 902 of Regulation S of the U.S. Securities Act of 1933, as amended). I further acknowledge that any acquisition in breach of these restrictions may result in my holdings being suspended, cancelled, or required to be sold. Read <a1>here</a1> for more information. Subjects to <a2>T&Cs</a2> and the <a3>Risk Disclosures</a3>. I hereby certify that:",values:{a1:h=>(0,e.jsx)("a",{target:"_blank",rel:"noopener nofollow noreferrer",className:"underline hover:text-blue-600",href:"https://trustwallet.com",children:h}),a2:h=>(0,e.jsx)("a",{target:"_blank",rel:"noopener nofollow noreferrer",className:"underline hover:text-blue-600",href:"https://trustwallet.com/terms-of-service",children:h}),a3:h=>(0,e.jsx)("a",{target:"_blank",rel:"noopener nofollow noreferrer",className:"underline hover:text-blue-600",href:"https://docs.google.com/document/d/1CaX4RkQmTQTX3rAq7NGXaPUH2ovCmxIWV8p3eQ6kql0/edit?tab=t.0",children:h})}})}),(0,e.jsxs)("div",{className:"w-full py-3 flex flex-col gap-3",children:[(0,e.jsx)(Le.$,{onClick:r,shape:te.dB.DEFAULT,theme:te.ry.PRIMARY,size:te.Vp.LARGE,children:i({id:"us-citizen-modal.negate",defaultMessage:"I am not US citizen"})}),(0,e.jsx)(Le.$,{onClick:u,shape:te.dB.DEFAULT,theme:te.ry.SECONDARY,size:te.Vp.LARGE,children:i({id:"us-citizen-modal.confirm",defaultMessage:"I am US citizen"})})]})]})})};var ea=Object.defineProperty,ta=Object.defineProperties,sa=Object.getOwnPropertyDescriptors,Fs=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,Es=(t,s,a)=>s in t?ea(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,Ue=(t,s)=>{for(var a in s||(s={}))na.call(s,a)&&Es(t,a,s[a]);if(Fs)for(var a of Fs(s))aa.call(s,a)&&Es(t,a,s[a]);return t},Qe=(t,s)=>ta(t,sa(s)),js=(t,s,a)=>new Promise((d,l)=>{var c=r=>{try{u(a.next(r))}catch(h){l(h)}},i=r=>{try{u(a.throw(r))}catch(h){l(h)}},u=r=>r.done?d(r.value):Promise.resolve(r.value).then(c,i);u((a=a.apply(t,s)).next())});const oa=()=>{var t;(0,$.K)({event:W.Un.SWAP,props:null});const{formatMessage:s}=(0,oe.A)(),a=(0,It.Zp)(),d=(0,It.zy)(),{state:l}=d,c=(0,$n.YL)(),{fromAsset:i,toAsset:u}=(0,q.GV)(m=>m.swap.assets),r=(0,q.GV)(m=>m.swap.spendAmount),{qsFrom:h,qsTo:E}=Xn(),A=(0,o.useRef)(!0),C=(0,o.useRef)(!0),j=(0,o.useRef)(0),g=(0,o.useRef)(!1),D=(0,o.useRef)(!1),H=(0,o.useRef)(!1),Z=(0,Gn.U)(),{domains:G}=(0,o.useContext)(F.C),[z]=(0,Zn.j)(),se=Bn(G),re=Ht(G,l),[R,ie]=(0,o.useState)(h?.blockchain||i?.blockchain||re.blockchain),[f,O]=(0,o.useState)(h||i||re),[V,me]=(0,o.useState)(r||""),[le,Ve]=(0,o.useState)(!1),[X,He]=(0,o.useState)(E?.blockchain||u?.blockchain||i?.blockchain||re.blockchain),[y,Pe]=(0,o.useState)(E||u),[es,St]=(0,o.useState)("0"),[$e,Pt]=(0,o.useState)(!1),[Je,ys]=(0,o.useState)(!1),[ca,Is]=(0,o.useState)(!1),[da,Ds]=(0,o.useState)(!1),[ua,Ss]=(0,o.useState)(!1),[pa,Ps]=(0,o.useState)(!1),[fa,Ms]=(0,o.useState)(!1),[ye,bs]=(0,o.useState)(U.FROM),{solanaTurboSwaps:ha}=(0,q.GV)(m=>m.swap.settings),[Mt,xa]=(0,o.useState)($t),[k,qe]=(0,o.useState)({id:"",minimumAmount:"0",priceImpact:"0",exchangeRate:null,approval:null,fees:{provider:{breakdown:[],total:0},relayer:{breakdown:[],total:0},routing:{breakdown:[],total:0}},provider:null,error:"",insufficientBalance:!1,slippage:$t,warnings:[],refreshInterval:qs}),ts=(0,o.useCallback)(()=>{q.M_.dispatch(xe.W.actions.setSwap712Data({isEip712:!1,provider:null}))},[]),[ma,ss]=(0,o.useState)(!1),[ws,Os]=(0,o.useState)(""),Ts=je((0,J.er)(R.coinId))[0],va=je((0,J.er)(X.coinId))[0],Ns=(0,q.GV)(m=>m.swap.isUSCitizen),[ks,ns]=(0,o.useState)(!1),[Aa,Ca]=(0,o.useState)({asset:null,swapOrigin:""}),as=(0,o.useRef)(!1),pe=je("c60_t0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48")[0],os=(0,o.useCallback)(m=>{if(!m?.address)return!1;let B=!1;return m.blockchain.name.toLowerCase()===de.J.solana.toLowerCase()?B=Ie.includes(m.address):m.blockchain.name.toLowerCase()===de.J.ethereum.toLowerCase()&&(B=De.includes(m.address)),B&&(as.current=!0),B},[]),Me=(0,o.useCallback)(m=>m.name.toLowerCase()===de.J.ethereum.toLowerCase(),[]),bt=(0,o.useMemo)(()=>os(f),[f]),wt=(0,o.useMemo)(()=>os(y),[y]);(0,o.useEffect)(()=>{if(pe){if(as.current){as.current=!1;return}bt&&Me(R)&&ye===U.TO&&y?.assetId!==pe.assetId?O(pe):wt&&Me(X)&&ye===U.FROM&&f?.assetId!==pe.assetId&&Pe(pe)}},[f,y,pe?.assetId]),(0,o.useEffect)(()=>{pe&&(bt&&Me(R)&&ye===U.FROM?(Me(X)||(C.current=!0,He(R)),Pe(pe)):wt&&Me(X)&&ye===U.TO&&(Me(R)||(A.current=!0,ie(X)),O(pe)))},[bt,wt,pe?.assetId]);const{trackSwapAnalyticsEvent:Fa,trackSwapApproveAnalyticsEvent:Ea}=Dn({quote:k,receiveAsset:y,receiveAmount:es,slippage:Mt,spendAsset:f,spendAmount:V,pageViewSource:(t=l?.pageViewSource)!=null?t:W.Un.SWAP}),{isPairSet:rs,isPairIdentical:Rs,hasSpendAmount:Bs,canGetQuote:is,isSwapAllSet:ja,hasQuoteError:Ot,hasTxError:ga}=Wn(f,y,V,le,k.error,ws),{headerText:La,defaultAssets:ya,scopedBlockchain:Ia,reservedAsset:Da,selectedAsset:Sa}=Nn(ye,se,R,f,X,y);function Ws(m){g.current=!1,xa(m)}function Us(m){bs(m),Ds(!0)}function Pa(m){ye===U.FROM?ie(m):He(m)}function Vs(m){bs(m),Ss(!0)}function Ma(m){const B=os(m);if(B&&Ns===null){Ca({asset:m,swapOrigin:ye}),Ms(!0);return}else if(B&&Ns){ns(!0);return}ks&&ns(!1),ye===U.FROM?O(m):Pe(m)}function ba(){rs&&!Rs&&(A.current=!0,C.current=!0,ie(X),O(y),me(es),He(R),Pe(f),St(V))}const Hs=(0,zn.x)(),[ls,Ks]=(0,o.useState)(null),[Gs,Zs]=(0,o.useState)(!1);(0,o.useEffect)(()=>{f?.assetId!==i?.assetId&&q.M_.dispatch(xe.W.actions.setFromAsset(f)),y?.assetId!==u?.assetId&&q.M_.dispatch(xe.W.actions.setToAsset(y))},[f,y]),(0,o.useEffect)(()=>{V!==r&&q.M_.dispatch(xe.W.actions.setSpendAmount(V))},[V,r]),(0,o.useEffect)(()=>{if(!ls)return;const m=Hs.find(B=>B.hash===ls);m?.status==="confirmed"&&(Ks(null),Zs(!1),qe(B=>Qe(Ue({},B),{approval:null})))},[Hs,ls]);function wa(){return js(this,null,function*(){try{if(Os(""),ys(!0),z!==f?.blockchain.id&&(yield Q.YW.emit(Kn.A.SWITCH_BLOCKCHAIN,{blockchainId:f?.blockchain.id,blockchainType:f?.blockchain.isCustom?_t.l.CUSTOM:_t.l.MAIN})),k.approval){const m=yield Q.YW.emit(Xe.A.FETCH_SWAP_APPROVAL_PAYLOAD,{approval:k.approval,provider:k.provider}),B=yield Q.YW.emit(qt.A.ETH_SIGN_TRANSACTION,m);if(Ea(),!B)throw new Error("Transaction Hash is empty.");Ks(B),Zs(!0)}else{const m=yield Q.YW.emit(Xe.A.FETCH_SWAP_TRANSACTION_PAYLOAD,{id:k.id,assetOut:f,assetIn:y,provider:k.provider});let B;if(m.isEip712){q.M_.dispatch(xe.W.actions.setSwap712Data({isEip712:m.isEip712,provider:k.provider}));const _e=f?c.items[f.blockchain.coinId].address:"";B=yield Q.YW.emit(qt.A.ETH_SIGN_TYPED_MESSAGE,{address:_e,raw:m.data,version:Qn.SignTypedDataVersion.V4,isInternal:!0})}else B=yield Q.YW.emit(qt.A.SWAP_TRANSACTION_CONFIRMATION,Ue({id:k.id,assetOut:f,assetIn:y,amountOut:{value:V,decimals:f?.decimals},quote:k},m));try{yield Q.YW.emit(Xe.A.RECORD_SWAP_TRANSACTION,{stepId:k.id,txHashOrSignature:B})}catch{Yn.A.error("Failed to record swap tx"),ts()}Z.find(_e=>y?.assetId===_e.assetId)||(yield Q.YW.emit(Ye.A.ADD_ASSET,{asset:Qe(Ue({},y),{isShownInHomeScreen:!0}),blockchainType:_t.l.MAIN})),Fa(),ts(),a(b.b.HISTORY)}}catch(m){ts(),[ot.Xc,ot.$i].includes(m.message)&&Os(s({id:"errors.transaction-generation"}))}finally{ys(!1)}})}const cs=(0,o.useCallback)((0,ge.debounce)((m,B,Ys,_e)=>js(null,null,function*(){const zs=++j.current;try{Pt(!0),ss(!1);const{id:rt,receiveAmount:it,minimumAmount:Oa,priceImpact:Ta,exchangeRate:Na,approval:ka,fees:Ra,provider:Ba,insufficientBalance:Wa,slippage:Xs,warnings:Ua,refreshInterval:Va}=yield Q.YW.emit(Xe.A.FETCH_SWAP_QUOTE,{assetOut:m,assetIn:B,amount:Ys,slippage:g.current?void 0:_e});if(zs!==j.current)return;St(it),g.current&&(H.current=!0,Ws(Xs)),qe({id:rt,priceImpact:Ta,minimumAmount:Oa,exchangeRate:Na,approval:ka,provider:Ba,fees:Ra,error:"",insufficientBalance:Wa,slippage:Xs,warnings:Ua,refreshInterval:Va}),ss(!0)}catch(rt){if(St("0"),rt.message===ot.oq){qe(it=>Qe(Ue({},it),{priceImpact:"0",exchangeRate:null,warnings:[],error:s({id:"errors.route-not-available"})}));return}if(rt.message.startsWith(ot.Zq)){qe(it=>Qe(Ue({},it),{priceImpact:"0",exchangeRate:null,warnings:[],error:rt.message.replace(ot.Zq,"")}));return}}finally{zs===j.current&&Pt(!1)}}),300),[]);return(0,o.useEffect)(()=>{A.current?A.current=!1:O(Ts)},[R.coinId]),(0,o.useEffect)(()=>{u&&!D.current&&(Pe(u),D.current=!0)},[u]),(0,o.useEffect)(()=>{E&&!D.current&&(Pe(E),D.current=!0)},[E]),(0,o.useEffect)(()=>{C.current?C.current=!1:Pe(va)},[X?.coinId]),(0,o.useEffect)(()=>{g.current=!0},[R?.coinId,f?.assetId,X?.coinId,y?.assetId]),(0,o.useEffect)(()=>{if(H.current){H.current=!1;return}const m=cs;return ss(!1),qe(B=>Qe(Ue({},B),{warnings:[],error:""})),rs&&(Bs&&!Rs?(Pt(!0),m(f,y,{value:V,decimals:f?.decimals},Mt)):(St("0"),qe(B=>Qe(Ue({},B),{priceImpact:"0"})),Pt(!1))),()=>m.cancel()},[rs,Bs,f,y,V,cs,Mt,ha]),(0,e.jsxs)("div",{className:"p-6",children:[(0,e.jsxs)("div",{className:"bg-backgroundPrimary",children:[(0,e.jsxs)("div",{className:"flex justify-end mb-6",children:[ks&&(0,e.jsx)("div",{className:"max-w-[400px] w-full m-auto px-2",children:(0,e.jsx)(Lt.F,{theme:yt.Z.ERROR,className:"ml-3",children:s({id:"swap.us-citizen-rwa-error",defaultMessage:"US citizens are not allowed to swap RWA tokens"})})}),(0,e.jsx)(Le.$,{noPadding:!0,fullWidth:!1,shape:te.dB.CIRCLE,theme:te.ry.TRANSPARENT,testid:"settings-button",onClick:()=>Is(!0),children:(0,e.jsx)(Un.Z,{colorClass:"text-iconNormal"})})]}),(0,e.jsxs)("div",{className:"max-w-[400px] m-auto",children:[(0,e.jsx)(xs,{testid:"swap-from",origin:U.FROM,network:R,asset:f,amount:V,disabled:Je,onAmountChange:me,onNetworkClick:Us,onTokenClick:Vs,onAmountExcess:Ve}),(0,e.jsx)("div",{className:"relative z0 flex w-10 h-10 -my-3 mx-auto rounded-curvy bg-backgroundPrimary",children:(0,e.jsx)(Le.$,{noPadding:!0,testid:"swap-change-quote-button",theme:te.ry.TRANSPARENT,shape:te.dB.CIRCLE,disabled:$e||Je,onClick:ba,children:(0,e.jsx)(Vn.D,{colorClass:"text-iconNormal hover:text-primary transition"})})}),(0,e.jsxs)(xs,{testid:"swap-to",origin:U.TO,network:X,asset:y,amount:es,priceImpact:k.priceImpact,isLoading:$e,disabled:Je,onNetworkClick:Us,onTokenClick:Vs,children:[is&&!Ot&&(0,e.jsx)(en,{isLoading:$e,rate:k.exchangeRate,refreshInterval:k.refreshInterval,runCountdown:ma,onCountdownFinish:()=>is&&cs(f,y,{value:V,decimals:f?.decimals},Mt)}),Ot&&(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(Hn.i,{colorClass:"text-iconWarning"}),(0,e.jsx)(N.E,{theme:p.Il.WARNING,type:p.jK.SUBTITLE,children:k.error})]})]}),(0,e.jsxs)("div",{className:"my-6 flex flex-col gap-2",children:[(bt&&Me(R)||wt&&Me(X))&&(0,e.jsx)(Lt.F,{theme:yt.Z.DEFAULT,children:s({id:"swap.restrict-only-usdc-pair-info",defaultMessage:"You can only pair USDC with this asset"})}),(0,e.jsxs)(Le.$,{testid:"swap-button",disabled:!ja||Gs||$e||Je||Ot||!k.approval&&k.insufficientBalance,loading:$e||Je||Gs,onClick:wa,children:[k.approval?s({id:"dashboard.approve-crypto"},{symbol:f?.symbol}):s({id:`dashboard.${k.insufficientBalance?"insufficient-balance":"swap"}`},{symbol:Ts.symbol})," "]})]}),ga&&(0,e.jsx)("div",{className:"mb-4",children:(0,e.jsx)(Lt.F,{theme:yt.Z.WARNING,children:ws})}),k.warnings.map(m=>(0,e.jsx)("div",{className:"my-4",children:(0,e.jsx)(Lt.F,{theme:yt.Z.WARNING,children:m})},m)),is&&!Ot&&(0,e.jsx)(yn,{isLoading:$e,disabled:Je,slippage:k.slippage,receiveAsset:y,minimumAmount:k.minimumAmount,provider:k.provider,fees:k.fees,openSlippageModal:()=>Ps(!0)})]})]}),(0,e.jsx)(an,{onClose:()=>Is(!1),opened:ca}),(0,e.jsx)(nn,{domains:G,opened:da,selectedNetwork:ye===U.FROM?R.id:X.id,onNetworkSelect:Pa,onClose:()=>Ds(!1)}),(0,e.jsx)($s,{header:La,defaultAssets:ya,scopedBlockchain:Ia,opened:ua,reservedAsset:Da,selectedAsset:Sa,onAssetSelect:Ma,onClose:()=>Ss(!1)}),(0,e.jsx)(dn,{defaultSlippage:k.slippage,onSave:Ws,opened:pa,onClose:()=>Ps(!1)}),(0,e.jsx)(_n,{setIsUSCitizenError:ns,setReceiveAsset:Pe,setSpendAsset:O,pendingRawToken:Aa,opened:fa,onClose:()=>Ms(!1)})]})},ra=()=>(0,e.jsx)(Tt,{children:(0,e.jsx)(oa,{})});var Dt=n(4800),ia=n(3280);const gs=()=>{const{formatMessage:t}=(0,oe.A)(),s=(0,It.Zp)(),{isLoading:a}=(0,o.useContext)(F.C),d=(0,ia.p)(),l=(0,P.X)(),c=(0,x.R)(),i=!l&&!c;return d?(s(b.b.DEFAULT),null):(0,e.jsx)(Dt.LN,{loose:!0,altTheme:i,children:(0,e.jsx)(Dt.LO,{children:(0,e.jsxs)(Dt.Gv,{loose:!0,children:[i?(0,e.jsx)("div",{className:"flex my-11 justify-center",children:(0,e.jsx)(Jt.c,{onClick:()=>s(b.b.DEFAULT),children:(0,e.jsx)(I.A,{})})}):(0,e.jsx)(Dt.zY,{title:t({id:"swap.title",defaultMessage:"Swap"})}),a?(0,e.jsx)("div",{className:"mx-auto",children:(0,e.jsx)(st.y,{})}):(0,e.jsx)("div",{className:`flex flex-1 flex-col flex-grow-0 
            self-center bg-backgroundPrimary rounded
            ${i?"border-line border":""} 
            p-0 container`,children:(0,e.jsx)(ra,{})})]})})})},Ls=(0,v.K)(()=>(0,e.jsx)(F.M,{children:(0,e.jsx)(gs,{})})),la=Ls}),68969:((K,M,n)=>{n.d(M,{$i:()=>v,Xc:()=>b,Zq:()=>I,oq:()=>e});const e="FAILED_QUOTE_GENERATION",I="FAILED_AMBER_RPC_ERROR",b="FAILED_APPROVAL_TRANSACTION_PAYLOAD_GENERATION",v="FAILED_SWAP_TRANSACTION_PAYLOAD_GENERATION"}),98005:((K,M,n)=>{n.d(M,{l:()=>v});var e=n(74848);const I=20,b=20,v=({width:P,height:x,colorClass:F})=>(0,e.jsxs)("svg",{className:F,fill:"none",width:P??I,height:x??b,viewBox:`0 0 ${I} ${b}`,xmlns:"http://www.w3.org/2000/svg",style:{paddingLeft:"1px"},children:[(0,e.jsx)("path",{d:"M16.495 4.75012H4.995C4.375 4.75012 3.875 5.25012 3.875 5.87012C3.875 6.49012 4.375 6.99012 4.995 6.99012H16.495C16.985 6.99012 17.375 7.38012 17.375 7.87012V16.1101C17.375 16.6001 16.975 16.9901 16.495 16.9901H3.505C3.015 16.9901 2.625 16.5901 2.625 16.1101V3.87012C2.625 3.39012 3.015 2.99012 3.495 2.99012H16.495C17.115 2.99012 17.615 2.49012 17.615 1.87012C17.615 1.25012 17.115 0.750122 16.495 0.750122H3.495C1.775 0.750122 0.375 2.15012 0.375 3.87012V16.1101C0.375 17.8401 1.785 19.2401 3.505 19.2401H16.495C18.225 19.2401 19.625 17.8401 19.625 16.1101V7.87012C19.625 6.15012 18.215 4.75012 16.495 4.75012Z",fill:"currentColor"}),(0,e.jsx)("path",{d:"M14.6249 12.5001C15.2449 12.5001 15.7449 12.0001 15.7449 11.3801C15.7449 10.7601 15.2449 10.2601 14.6249 10.2601H12.3749C11.7549 10.2601 11.2549 10.7601 11.2549 11.3801C11.2549 12.0001 11.7549 12.5001 12.3749 12.5001H14.6249Z",fill:"currentColor"})]})})}]);

//# sourceMappingURL=4791.js.map