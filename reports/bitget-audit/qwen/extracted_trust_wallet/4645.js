try{let P=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},b=new P.Error().stack;b&&(P._sentryDebugIds=P._sentryDebugIds||{},P._sentryDebugIds[b]="f450df73-b652-4525-8df6-34ed88cd51dc",P._sentryDebugIdIdentifier="sentry-dbid-f450df73-b652-4525-8df6-34ed88cd51dc")}catch{}{let P=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};P.SENTRY_RELEASE={id:"2.66.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[4645],{17045:((P,b,e)=>{e.d(b,{I:()=>ge});var t=e(74848),j=e(47767),s=e(92926),r=e(52651),T=e(29584),V=e(26264),W=e(63369),H=e(3367),U=e(65512),L=e(65504),w=e(16665),oe=e(55418),E=e(4800),se=e(68632),Q=e(79830),F=e(69254),M=e(52114),Y=e(1279),te=e(64145),D=e(14948),Z=e(26858),le=e(47996),ne=e(79334),ce=e(66392),$=e(65828),B=e(79960),k=e(3280),v=e(21094),ye=e(15192),Ie=e(2543),X=e(96540),Ne=e(6442),xe=e(41411),q=e(27409),I=e(71431),A=e(75485),n=e(68157),l=e(89419),m=e(20549),N=Object.defineProperty,C=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,_=(h,x,y)=>x in h?N(h,x,{enumerable:!0,configurable:!0,writable:!0,value:y}):h[x]=y,z=(h,x)=>{for(var y in x||(x={}))a.call(x,y)&&_(h,y,x[y]);if(C)for(var y of C(x))G.call(x,y)&&_(h,y,x[y]);return h},K=(h,x,y)=>new Promise((O,g)=>{var o=c=>{try{ee(y.next(c))}catch(J){g(J)}},ae=c=>{try{ee(y.throw(c))}catch(J){g(J)}},ee=c=>c.done?O(c.value):Promise.resolve(c.value).then(o,ae);ee((y=y.apply(h,x)).next())});const be="60",He=({assetId:h})=>{var x,y,O,g,o,ae,ee;const{formatMessage:c}=(0,Ne.A)(),J=(0,j.Zp)(),ie=(0,k.p)(),i=(0,X.useContext)(H.o),R=(0,Z.Mr)(h);if(!R)throw new Error(`Could not find asset for assetId "${h}"`);(0,W.K)({event:T.Un.SEND_PREPARE_CRYPTO,props:null});const ke=(0,le.o)(R.blockchainId),ue=(0,ne.P)(R.blockchainId),u=(0,n.GV)(f=>f.sdkFeatures.prepareSend),Re=(0,n.GV)(f=>f.sdkFeatures.prepareSendResolvedAddress),Ue=(0,n.GV)(f=>f.sdkFeatures.prepareSendResolvingAddress),[Qe,Ee]=(0,X.useState)((x=i.address)!=null?x:""),[pe,Oe]=(0,X.useState)((y=i.amount)!=null?y:""),[je,Le]=(0,X.useState)((O=i.memoOrTag)!=null?O:""),[Be,We]=(0,X.useState)(!1),[$e,Je]=(0,X.useState)(!1),[p,he]=(0,X.useState)(!1),ve=ue||ke,Te=!!((g=i.inscriptions)!=null&&g.length),Ve=(0,B.t)(),Fe=(0,$.Z)(R.assetId),{blockchainSupports7702:d,isLoadingSupports7702:tt}=(0,m.O)(ve.id),qe=(0,X.useMemo)(()=>{var f,de,Se;return{memo:u?.meta,asset:R,network:ve,amount:(de=Te?(f=u?.inscriptionsData)==null?void 0:f.amount:u?.amount)!=null?de:"",to:(Se=u?.address)!=null?Se:"",inscriptions:i.inscriptions,type:ce.w.Send,isMax:(0,ye.z)(pe||"0").eq(Fe??0),supports7702:d}},[u?.amount,R,ve,i.inscriptions,u?.address,u?.meta,pe,Fe,d]);(0,X.useEffect)(()=>{function f(){return K(this,null,function*(){var de,Se,at;const we=[{property:s.z.amount,value:(de=i.amount)!=null?de:""},{property:s.z.meta,value:(Se=i.memoOrTag)!=null?Se:""},{property:s.z.recipient,value:(at=i.address)!=null?at:""}].filter(ot=>!!ot.value),Me={action:s.e.INITIATE,params:z({crypto:{asset:R},initialState:we},i.inscriptions&&{inscriptions:{inscriptions:i.inscriptions,amount:i.amount}})};yield te.YW.emit(D.A.PREPARE_SEND,Me)})}Ve[h]&&!$e&&(f(),Je(!0))},[Ve]),(0,X.useEffect)(()=>{var f;Be&&(Oe((f=u?.amount)!=null?f:pe),We(!1))},[u?.amount]);const Ce=(0,Ie.debounce)((f,de)=>{te.YW.emit(D.A.PREPARE_SEND,{action:s.e.UPDATE,params:{property:f,value:de}})},200),Ke=f=>{Ee(f),n.M_.dispatch(l.T.actions.clearPrepareSendResolvedAddress()),n.M_.dispatch(l.T.actions.clearPrepareSendAddressError()),Ce(s.z.recipient,f)},st=f=>{Le(f),Ce(s.z.meta,f)},_e=f=>{isNaN(Number(f))||f.startsWith("0x")||(Oe(f),Ce(s.z.amount,f))},ct=()=>{We(!0),te.YW.emit(D.A.PREPARE_SEND,{action:s.e.UPDATE,params:{property:s.z.maxAmount}})},et=()=>{he(!0)},ut=f=>K(null,null,function*(){he(!1),f?.address&&(Ke(f.address),yield new Promise(de=>setTimeout(de,200)),st(f.memo||je||""))}),Pe=(0,X.useMemo)(()=>{var f,de;return Object.values((f=u?.metaType)!=null?f:{}).includes("Memo")||Object.values((de=u?.metaType)!=null?de:{}).includes("Object")},[u]),nt=(0,X.useMemo)(()=>{var f;return Object.values((f=u?.metaType)!=null?f:{}).includes("Tag")},[u]),lt=(Ue||u?.isLoadingLookup)&&!Re&&u?.addressError===null;return u?.isLoading||!Ve[h]||tt?(0,t.jsx)(oe.o,{children:(0,t.jsx)(Q.y,{size:se.Y.XLARGE})}):(0,t.jsxs)(E.LN,{children:[(0,t.jsx)(E.zY,{backAction:()=>J(-1),title:c({id:"send.title"},{assetSymbol:R.symbol})}),(0,t.jsxs)(E.Gv,{children:[(0,t.jsxs)(E.LO,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-1 text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(L.q,{src:R.iconUrl,name:R.name,network:R.address?ve:void 0,size:se.Y.MEDIUM})}),(0,t.jsx)(M.E,{type:Y.jK.BODY_14,theme:Y.Il.UTILITY_1_OPACITY_1,children:c({id:"generic.on-network"},{networkName:(o=ve.displayName)!=null?o:ve.name})})]}),(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(w.S,{testid:"input-recipient",label:c({id:"input-address.address.label"}),value:Qe||"",onChange:f=>Ke(f.target.value),placeholder:c({id:"input-address.address.placeholder"}),actions:[{key:"address-input-action-address-book",placeholder:(0,t.jsx)(q.X,{width:20,height:20}),onClick:et}],validation:(0,xe.D)(u?.addressError),autoFocus:!0,isLoading:lt,specialSubtitle:Re?(0,t.jsxs)("div",{className:"px-3 py-2 bg-backgroundSecondary rounded-xl",children:[(0,t.jsxs)(M.E,{type:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_2,children:[c({id:"send.destination-address"}),":"]}),(0,t.jsx)("div",{className:"break-all mt-0.5",children:(0,t.jsx)(M.E,{type:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_2,children:Re.resolvedAddress})})]}):void 0})}),!Te&&(0,t.jsxs)(t.Fragment,{children:[(Pe||nt)&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(w.S,{testid:"input-memo-tag",label:c(Pe?{id:"input-memo.memo.label"}:{id:"input-tag.tag.label"}),value:je,onChange:f=>st(f.target.value),placeholder:c(Pe?{id:"input-memo.memo.placeholder"}:{id:"input-tag.tag.placeholder"}),validation:nt?(0,xe.D)(u?.metaError):void 0})}),(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsx)(w.S,{testid:"input-amount",label:c({id:"input-amount.amount.label"}),value:pe,onlyPositive:!0,onChange:f=>_e(f.target.value),placeholder:c({id:"input-amount.amount.placeholder"}),validation:(0,xe.D)(u?.amountError),actions:[{key:"1",placeholder:(0,t.jsx)(M.E,{theme:Y.Il.PRIMARY_DEFAULT,type:Y.jK.SUBHEADER_14,children:"MAX"}),onClick:()=>ct()}]}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(M.E,{weight:Y.nG.NORMAL,type:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_1,children:[c({id:"send.balance"}),":"]}),(0,t.jsx)(F.h,{testid:"account-balance",weight:Y.nG.NORMAL,textType:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_1,amountType:v.Cu.CRYPTO,value:Fe,currency:R.symbol,maxSignificantDecimals:10})]}),!!Number((ae=Ve[R.assetId])==null?void 0:ae.dust)&&(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(M.E,{weight:Y.nG.NORMAL,type:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_1,children:[c({id:"send.dust-balance"}),":"]}),(0,t.jsx)(F.h,{weight:Y.nG.NORMAL,textType:Y.jK.CAPTION_12,theme:Y.Il.UTILITY_1_OPACITY_1,amountType:v.Cu.CRYPTO,value:(ee=Ve[R.assetId])==null?void 0:ee.dust,currency:R.symbol,maxSignificantDecimals:10})]})]})]})]}),ie&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(r.e,{blockchainName:ve.name})}),(0,t.jsx)(U.$,{testid:"button-prepare-send-tx",disabled:!u?.isNextEnabled||lt,onClick:()=>J(V.b.SEND_CONFIRM,{state:qe}),children:c({id:"generic.preview"})})]}),p&&(0,t.jsx)(I.F,{isOpened:p,coinId:ve.isCustom?be:(0,A.X2)(R.assetId),onClose:ut})]})};var Ze=e(65818),Ge=e(46707),Ae=(h,x,y)=>new Promise((O,g)=>{var o=c=>{try{ee(y.next(c))}catch(J){g(J)}},ae=c=>{try{ee(y.throw(c))}catch(J){g(J)}},ee=c=>c.done?O(c.value):Promise.resolve(c.value).then(o,ae);ee((y=y.apply(h,x)).next())});const Xe=({collectionId:h,nftId:x})=>{var y,O,g;const{formatMessage:o}=(0,Ne.A)(),ae=(0,j.Zp)(),ee=(0,k.p)(),c=(0,X.useContext)(H.o),J=(0,Ze.Q)(h);if(!J)throw new Error(`Could not find collection for collectionId "${h}"`);const ie=(0,Ge.j)(h,x),i=(0,n.GV)(p=>p.sdkFeatures.prepareSend);if(!ie)throw new Error("NFT Id is missing.");(0,W.K)({event:T.Un.SEND_PREPARE_NFT,props:null});const[R,ke]=(0,X.useState)((y=c.address)!=null?y:""),[ue,u]=(0,X.useState)((O=c.memoOrTag)!=null?O:""),[Re,Ue]=(0,X.useState)((g=c.amount)!=null?g:""),[Qe,Ee]=(0,X.useState)(!1),pe=(0,X.useMemo)(()=>{var p,he,ve;return{memo:(p=i?.meta)!=null?p:void 0,network:J.blockchain,to:(he=i?.address)!=null?he:"",amount:(ve=i?.amount)!=null?ve:"",collection:J,nft:ie}},[ue,J.blockchain,R]);(0,X.useEffect)(()=>{function p(){return Ae(this,null,function*(){var he,ve,Te;const Ve=[{property:s.z.amount,value:(he=c.amount)!=null?he:""},{property:s.z.meta,value:(ve=c.memoOrTag)!=null?ve:""},{property:s.z.recipient,value:(Te=c.address)!=null?Te:""}].filter(d=>!!d.value),Fe={action:s.e.INITIATE,params:{nft:{nft:ie,blockchain:J.blockchain},initialState:Ve}};yield te.YW.emit(D.A.PREPARE_SEND,Fe)})}p()},[]),(0,X.useEffect)(()=>{var p;Qe&&(Ue((p=i?.amount)!=null?p:Re),Ee(!1))},[i?.amount]);const Oe=(0,Ie.debounce)((p,he)=>{te.YW.emit(D.A.PREPARE_SEND,{action:s.e.UPDATE,params:{property:p,value:he}})},200),je=p=>{ke(p),Oe(s.z.recipient,p)},Le=p=>{Ue(p),Oe(s.z.amount,p)},Be=p=>{u(p),Oe(s.z.meta,p)},We=()=>{Ee(!0),te.YW.emit(D.A.PREPARE_SEND,{action:s.e.UPDATE,params:{property:s.z.maxAmount}})},$e=(0,X.useMemo)(()=>{var p,he;return Object.values((p=i?.metaType)!=null?p:{}).includes("Memo")||Object.values((he=i?.metaType)!=null?he:{}).includes("Object")},[i]),Je=p=>({isValid:!p,error:p});return(0,t.jsxs)(E.LN,{children:[(0,t.jsx)(E.zY,{backAction:()=>ae(-1),title:o({id:"send.title"},{assetSymbol:`${J.name} #${ie.onChainId} `})}),(0,t.jsxs)(E.Gv,{children:[(0,t.jsxs)(E.LO,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-1 text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(L.q,{src:ie.previewImageURL.url,name:J.blockchain.name,network:J.blockchain,size:se.Y.XLARGE})}),(0,t.jsx)(M.E,{type:Y.jK.SUBTITLE,theme:Y.Il.SECONDARY,children:o({id:"generic.on-network"},{networkName:J.blockchain.name})})]}),(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(w.S,{label:o({id:"input-address.address.label"}),value:R,onChange:p=>je(p.target.value),placeholder:o({id:"input-address.address.placeholder"}),validation:Je(i?.addressError),autoFocus:!0})}),$e&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(w.S,{label:o({id:"input-memo.memo.label"}),value:ue,onChange:p=>Be(p.target.value),placeholder:o({id:"input-memo.memo.placeholder"})})}),i?.showAmount&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(w.S,{label:o({id:"input-amount.amount.label"}),value:Re,onChange:p=>Le(p.target.value),placeholder:o({id:"input-amount.amount.placeholder"}),validation:Je(i?.amountError),actions:[{key:"1",placeholder:(0,t.jsx)(M.E,{theme:Y.Il.BRAND,children:"MAX"}),onClick:()=>We()}]})})]}),ee&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(r.e,{blockchainName:J.blockchain.name})}),(0,t.jsx)(U.$,{disabled:!i?.isNextEnabled,onClick:()=>ae(V.b.SEND_CONFIRM,{state:pe}),children:o({id:"generic.preview"})})]})]})};var ze=e(59754);const ge=()=>{const{collectionId:h,nftId:x,assetId:y}=(0,j.g)(),O=()=>{te.YW.emit(D.A.PREPARE_SEND,{action:s.e.CLOSE})};return(0,ze.A)(O),y?(0,t.jsx)(He,{assetId:y}):h&&x?(0,t.jsx)(Xe,{collectionId:h,nftId:x}):null}}),24645:((P,b,e)=>{e.a(P,async(t,j)=>{try{e.r(b),e.d(b,{App:()=>ne,default:()=>ce});var s=e(74848),r=e(47767),T=e(96540),V=e(3367),W=e(40793),H=e(17045),U=e(33400),L=e(53764),w=e(27431),oe=t([W]);W=(oe.then?(await oe)():oe)[0];var E=Object.defineProperty,se=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,te=($,B,k)=>B in $?E($,B,{enumerable:!0,configurable:!0,writable:!0,value:k}):$[B]=k,D=($,B)=>{for(var k in B||(B={}))M.call(B,k)&&te($,k,B[k]);if(F)for(var k of F(B))Y.call(B,k)&&te($,k,B[k]);return $},Z=($,B)=>se($,Q(B));const le=()=>{const $=v=>{k(ye=>D(D({},ye),v))},[B,k]=(0,T.useState)({setContext:$});return(0,s.jsx)(V.o.Provider,{value:Z(D({},B),{setContext:$}),children:(0,s.jsx)(r.sv,{})})},ne=()=>(0,s.jsxs)(r.BV,{children:[(0,s.jsx)(r.qh,{index:!0,element:(0,s.jsx)(U.V,{})}),(0,s.jsxs)(r.qh,{element:(0,s.jsx)(le,{}),children:[(0,s.jsx)(r.qh,{path:"/:assetId",element:(0,s.jsx)(H.I,{})}),(0,s.jsx)(r.qh,{path:"/:collectionId/:nftId",element:(0,s.jsx)(H.I,{})}),(0,s.jsx)(r.qh,{path:"/:assetId/inscriptions",element:(0,s.jsx)(L.W,{})}),(0,s.jsx)(r.qh,{path:"/:assetId/inscribe",element:(0,s.jsx)(w.u,{})}),(0,s.jsx)(r.qh,{path:"/confirm",element:(0,s.jsx)(W.p,{})})]})]}),ce=ne;j()}catch(le){j(le)}})}),26963:((P,b,e)=>{e.d(b,{Z:()=>W});var t=e(74848),j=e(65504),s=e(68632),r=e(52114),T=e(1279),V=e(6442);const W=({nft:H,network:U})=>{const{formatMessage:L}=(0,V.A)(),w=H.name.length?H.name:`${H.collectionName} #${H.onChainId}`;return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)(j.q,{src:H.previewImageURL.url,name:w,network:U,size:s.Y.LARGE})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.E,{type:T.jK.HEADER_18,children:w}),(0,t.jsxs)(r.E,{type:T.jK.SUBHEADER_14,theme:T.Il.UTILITY_1_OPACITY_1,children:[L({id:"generic.send"})," NFT"]})]})]})}}),27431:((P,b,e)=>{e.d(b,{u:()=>q});var t=e(74848),j=e(52651),s=e(26264),r=e(15192),T=e(96540),V=e(6442),W=Object.defineProperty,H=Object.defineProperties,U=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,E=(I,A,n)=>A in I?W(I,A,{enumerable:!0,configurable:!0,writable:!0,value:n}):I[A]=n,se=(I,A)=>{for(var n in A||(A={}))w.call(A,n)&&E(I,n,A[n]);if(L)for(var n of L(A))oe.call(A,n)&&E(I,n,A[n]);return I},Q=(I,A)=>H(I,U(A));const F=({value:I,decimals:A,minimum:n,maximum:l,minimumThreshold:m,minimumThresholdWarning:N})=>{const C={number:!1,decimals:!1,minimum:!1,maximum:!1,minimumThreshold:!1,minimumThresholdWarning:null};if(!I||I==="0")return Q(se({},C),{isValid:!1});try{const a=(0,r.A)(I);C.number=!0,C.minimum=n?a.gte((0,r.A)(n)):!0,C.maximum=l?a.lte((0,r.A)(l)):!0;const G=I.indexOf("."),_=G!==-1?I.substring(G+1):void 0;if(C.decimals=_&&typeof A=="number"?_.length<=A:!0,N&&N.value!=="0"&&l){const z=(0,r.A)(l),K=(0,r.A)(N.value);C.minimumThresholdWarning=z.gt(0)&&z.gte(a)&&z.minus(a).lt(K)?N.message:null}else C.minimumThresholdWarning=null;if(m&&m!=="0"&&l){const z=(0,r.A)(l),K=(0,r.A)(m);C.minimumThreshold=a.lte(z)&&z.minus(a).gte(K)}else C.minimumThreshold=!0}catch{}finally{return Q(se({},C),{isValid:Object.entries(C).every(([a,G])=>a==="minimumThresholdWarning"||!!G)})}},M=({value:I,asset:A,decimals:n,minimum:l,maximum:m,minimumThreshold:N,minimumThresholdWarning:C})=>{const{formatMessage:a}=(0,V.A)(),[G,_]=(0,T.useState)({isValid:!1,number:!1,decimals:!1,minimum:!1,maximum:!1,minimumThreshold:!1,minimumThresholdWarning:null});(0,T.useEffect)(()=>{_(se({},F({value:I,asset:A,decimals:n,minimum:l,maximum:m,minimumThreshold:N,minimumThresholdWarning:C})))},[I,A,n,l,m]);const z=(0,T.useMemo)(()=>{if(!G.number)return a({id:"validate-amount.generic"});if(!G.decimals)return a({id:"validate-amount.decimals"},{number:n});if(!G.minimum)return a({id:"validate-amount.minimum"},{number:l});if(!G.maximum)return a({id:"validate-amount.maximum"},{asset:A.symbol});if(!G.minimumThreshold)return a({id:"validate-amount.minimum-threshold"},{number:N,asset:A.symbol});if(G.minimumThresholdWarning)return a({id:G.minimumThresholdWarning})},[a,G,A,n,l]);return{isValid:G.isValid,error:z}};var Y=e(65512),te=e(65504),D=e(16665),Z=e(4800),le=e(68632),ne=e(69254),ce=e(52114),$=e(1279),B=e(26858),k=e(47996),v=e(66392),ye=e(40790),Ie=e(7707),X=e(3280),Ne=e(21094),xe=e(47767);const q=()=>{const{assetId:I}=(0,xe.g)(),A=(0,xe.Zp)(),{formatMessage:n}=(0,V.A)();if(!I)throw new Error(`Asset Id "${I}" is invalid.`);const l=(0,B.Mr)(I);if(!l)throw new Error(`Could not find asset for assetId "${I}"`);const m=(0,k.o)(l.blockchainId),N=(0,Ie.A)(l.assetId),C=(0,ye.F7)(m.coinId),a=(0,X.p)(),[G,_]=(0,T.useState)(""),z=M({value:G,asset:l,decimals:l.decimals,maximum:N,minimumThreshold:"0"}),K=(0,T.useMemo)(()=>({asset:l,network:m,amount:G,to:C.address,type:v.w.Inscribe}),[l,m,G]);return(0,t.jsxs)(Z.LN,{children:[(0,t.jsx)(Z.zY,{title:`${n({id:"generic.inscribe"})} ${l.symbol}`,backAction:()=>A(-1)}),(0,t.jsxs)(Z.Gv,{children:[(0,t.jsxs)(Z.LO,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-1 text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(te.q,{src:l.iconUrl,name:l.name,network:l.address?m:void 0,size:le.Y.LARGE})}),(0,t.jsx)(ce.E,{type:$.jK.SUBTITLE,theme:$.Il.SECONDARY,children:n({id:"generic.on-network"},{networkName:m.name})})]}),(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsx)(D.S,{testid:"input-amount",label:n({id:"input-amount.amount.label"}),value:G,onChange:be=>_(be.target.value),placeholder:n({id:"input-amount.amount.placeholder"}),validation:z,actions:[{key:"max",placeholder:(0,t.jsx)(ce.E,{theme:$.Il.BRAND,children:"MAX"}),disabled:N==="0",onClick:()=>_(N)}]}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsxs)(ce.E,{weight:$.nG.NORMAL,type:$.jK.SUBTITLE,theme:$.Il.SECONDARY,children:[n({id:"generic.available-balance"}),":"]}),(0,t.jsx)(ne.h,{testid:"inscribe-balance",weight:$.nG.NORMAL,textType:$.jK.SUBTITLE,theme:$.Il.SECONDARY,amountType:Ne.Cu.CRYPTO,value:N,currency:l.symbol,maxSignificantDecimals:10})]})]})]}),a&&(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(j.e,{blockchainName:m.name})}),(0,t.jsx)(Y.$,{testid:"button-prepare-inscribe-tx",disabled:!z.isValid,onClick:()=>A(s.b.SEND_CONFIRM,{state:K}),children:n({id:"generic.continue"})})]})]})}}),31902:((P,b,e)=>{e.d(b,{P:()=>j});var t=e(79960);function j(s){var r;return((r=(0,t.t)()[s])==null?void 0:r.transferable)||"0"}}),33400:((P,b,e)=>{e.d(b,{V:()=>se});var t=e(74848),j=e(27214),s=e(29584),r=e(26264),T=e(63369),V=e(3330),W=e(8360),H=e(4800),U=e(29189),L=e(96471),w=e(96540),oe=e(6442),E=e(47767);const se=()=>{(0,T.K)({event:s.Un.SEND_SELECT_CRYPTO,props:null});const{formatMessage:Q}=(0,oe.A)(),F=(0,E.Zp)(),[M,Y]=(0,w.useState)(""),te=(0,U.f)(),[D,Z]=(0,w.useState)(te??void 0),le=ne=>{F(`${r.b.SEND}/${ne.assetId}${ne.type===L.S.BRC20?"/inscriptions":""}`)};return(0,t.jsxs)(H.LN,{children:[(0,t.jsx)(H.zY,{backAction:()=>F(-1),title:Q({id:"select-asset.send.title",defaultMessage:"Select asset to send"})}),(0,t.jsxs)(H.Gv,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4 mb-4",children:[(0,t.jsx)(W.D,{testid:"input-search-asset",value:M,onChange:ne=>Y(ne.target.value),placeholder:Q({id:"component.input-asset-search.placeholder"})}),(0,t.jsx)(V.u,{showText:!0,localFilteringBlockchainId:D,onFilterChange:ne=>Z(ne??void 0)})]}),(0,t.jsx)(H.LO,{children:(0,t.jsx)(j.U,{searchQuery:M,excludedBlockchainId:"binance",targetBlockchainId:D,onAssetRowClick:le,emptyMessage:Q({id:"token-asset-list.empty-search-caption"}),showNetworkName:!0,alwaysShowAllAssets:!0})})]})]})}}),36631:((P,b,e)=>{e.a(P,async(t,j)=>{try{e.d(b,{w:()=>y});var s=e(74848),r=e(47767),T=e(56383),V=e(8192),W=e(9526),H=e(26264),U=e(5360),L=e(3367),w=e(37167),oe=e(46191),E=e(26963),se=e(4800),Q=e(64145),F=e(22670),M=e(72722),Y=e(5027),te=e(40790),D=e(79960),Z=e(3280),le=e(33055),ne=e(26113),ce=e(28105),$=e(93155),B=e(15192),k=e(37457),v=e(96540),ye=e(6442),Ie=e(606),X=e(75485),Ne=e(65047),xe=e(63369),q=e(29584),I=e(66392),A=e(23207),n=e(8986),l=e(9389),m=e(20549),N=e(72213),C=e(26858),a=e(7707),G=e(21025),_=e(23184),z=e(52178),K=t([ce]);ce=(K.then?(await K)():K)[0];var be=Object.defineProperty,He=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,ze=(O,g,o)=>g in O?be(O,g,{enumerable:!0,configurable:!0,writable:!0,value:o}):O[g]=o,ge=(O,g)=>{for(var o in g||(g={}))Ae.call(g,o)&&ze(O,o,g[o]);if(Ge)for(var o of Ge(g))Xe.call(g,o)&&ze(O,o,g[o]);return O},h=(O,g)=>He(O,Ze(g)),x=(O,g,o)=>new Promise((ae,ee)=>{var c=i=>{try{ie(o.next(i))}catch(R){ee(R)}},J=i=>{try{ie(o.throw(i))}catch(R){ee(R)}},ie=i=>i.done?ae(i.value):Promise.resolve(i.value).then(c,J);ie((o=o.apply(O,g)).next())});const y=({state:{collection:O,nft:g,network:o,to:ae,memo:ee,amount:c}})=>{(0,xe.K)({event:q.Un.SEND_CONFIRM_NFT,props:null});const J=(0,D.t)(),{trackAnalytics:ie}=(0,A.s)(),{isLoadingSupports7702:i,blockchainSupports7702:R}=(0,m.O)(o.id),ke=(0,X.Gc)({coinId:o.coinId}),ue=(0,n.O)(o),u=(0,te.F7)(o.coinId),[Re,Ue]=(0,v.useState)(!1),[Qe,Ee]=(0,v.useState)(!0),[pe,Oe]=(0,v.useState)(!1);if(!u)throw new Error(`Account for ${o.coinId} not found`);if(!ue)throw new Error(`Could not find native asset for chain ID "${o.chainId}".`);const{formatMessage:je}=(0,ye.A)(),Le=(0,r.Zp)(),Be=(0,v.useContext)(L.o),We=(0,Z.p)(),{isCustomNonceEnabled:$e}=(0,Y.j)(),[Je,p]=(0,v.useState)(!1),[he,ve]=(0,v.useState)(!1),Te=(0,Ie.C)(),[Ve,Fe]=(0,v.useState)(!1),[d,tt]=(0,v.useState)(null),[qe,Ce]=(0,v.useState)(null),[Ke,st]=(0,v.useState)(null),[_e,ct]=(0,v.useState)(null),[et,ut]=(0,v.useState)(null),[Pe,nt]=(0,v.useState)(null),[lt,f]=(0,v.useState)(),[de,Se]=(0,v.useState)(!1),[at,we]=(0,v.useState)(!1),[Me,ot]=(0,v.useState)({originalNonce:0,editedNonce:""}),[Ct,Yt]=(0,v.useState)(Ne.q.DEFAULT),{setShowLedgerConfirmationHint:bt,handleLedgerError:vt,LedgerConnectionErrorModal:Gt}=(0,U.U)(),xt=(0,le.A)(),jt=(0,l.YL)(),[it,zt]=(0,v.useState)(ue.assetId),Ye=(0,C.Mr)(it),yt=(0,a.A)(Ye.assetId),[De,gt]=(0,v.useState)(!1),dt=(0,v.useMemo)(()=>Ye?.assetId!==ue.assetId&&R,[Ye,ue,R]),{quotes7702:Lt,initialLoading7702FeeQuotes:$t,refetch7702FeeQuotes:Vt}=(0,_.t)(d,dt),rt=(0,v.useMemo)(()=>h(ge(ge(ge(ge(ge({memo:ee,from:u.address,to:ae,value:c??"1",internal:{type:"send",isMax:!1,asset:{decimals:0,address:g.contractAddress,assetId:ke,nft:g}},network:o},Ke&&{gasLimit:Ke}),_e&&{gasPrice:_e}),et&&{maxPriorityFeePerGas:et}),Pe&&{maxFeePerGas:Pe}),Te?.estimatedBaseFee&&{baseFee:(0,B.A)(Te.estimatedBaseFee).pow(ue.decimals).toFixed(0)}),{feeAsset:dt?Ye:ue,feeIs7702:dt}),[u.address,Ke,_e,Pe,et,ee,o,ae,dt,Ye,ue]),Ht=(0,v.useCallback)(()=>Se(!de),[de]),Nt=()=>{ve(S=>!S)},Zt=(0,v.useCallback)(({customGasLimit:S,customGasPrice:re,customMaxPriorityFeePerGas:fe,customMaxFeePerGas:me,minGasFeesAcceptable:ft},Ft)=>{S&&st(S),re&&ct(re),fe&&ut(fe),me&&nt(me),ft&&f(ft),Ft&&Yt(Ft),Se(!1)},[]),St=(0,v.useCallback)(()=>{const{editedNonce:S}=Me,re=S&&Number(S)>=0,fe=!S?.includes(".")&&!S?.includes(",");return!!re&&fe},[Me]),It=(0,v.useCallback)(()=>x(null,null,function*(){p(!0),Ce(null);try{const S=yield Q.YW.emit(F.A.STAGE_TRANSACTION,rt);tt(S),$e&&ot(re=>({originalNonce:parseInt(S.nonce),editedNonce:re.editedNonce||String(parseInt(S.nonce))}))}catch(S){if(S.message==="RecipientTokenNotRegisteredError"){Ce(je({id:"send.confirm.recipient-not-registered-token"}));return}else if(S.message==="TransferCallerNotOwnerNorApproved"){Ce(je({id:"send.confirm.recipient-not-owner-nor-approved"}));return}$.A.error(S),Ce(je({id:"send.confirm.validation.generic"}))}finally{p(!1)}}),[rt,je,$e]),mt=(0,v.useMemo)(()=>{if(!d)return{isValid:!0};const S=(0,G.QA)(yt,Ye.decimals).gte((0,G.QA)(d.formattedFee,Ye.decimals)),re=d.feeIs7702?S:(0,B.A)(0).add(d.formattedFee).lte(J[ue.assetId].balance),fe=d.feeIs7702?Ye:ue,me=(0,z.Z)(fe,o);return{isValid:re,error:re?void 0:je({id:"generic.insufficient-balance-for-gas"},{assetSymbol:me})}},[J,je,ue.assetId,ue.symbol,o.symbol,d,yt,Ye]),At=(0,v.useMemo)(()=>!Je&&!De&&!!d&&!qe&&mt.isValid&&($e&&Qe?St():!0),[Je,d,qe,mt.isValid,$e,Qe,St,De]),pt=()=>{ie({event:q.BQ.SEND_NFT_TRANSACTION,props:{pageViewSource:q.Un.SEND_CONFIRM_NFT,txType:I.w.Send,walletType:xt.type,nftId:g.id,nftCollectionId:g.collectionId,blockchainId:o.id,nftType:g.type,txStatus:"confirmed"}})},ht=S=>{ie({event:q.BQ.SEND_NFT_TRANSACTION,props:{pageViewSource:q.Un.SEND_CONFIRM_NFT,txType:I.w.Send,walletType:xt.type,nftId:g.id,nftCollectionId:g.collectionId,blockchainId:o.id,nftType:g.type,txStatus:"failed",txError:S}})},Xt=(0,v.useCallback)(()=>x(null,null,function*(){var S,re;const fe={to:d.to,gasLimit:parseInt(d.fee.gasLimit||d.fee.limit),nonce:parseInt(d.nonce),chainId:parseInt(d?.network.chainId),data:d.data,type:parseInt(d.type),value:d.value};fe.type===2?(fe.maxFeePerGas=k.gH.from((S=d.maxFeePerGas)!=null?S:d.fee.maxPrice),fe.maxPriorityFeePerGas=k.gH.from((re=d.maxPriorityFeePerGas)!=null?re:d.fee.minerPrice)):fe.gasPrice=parseInt(d.fee.price);try{we(!0);const me=yield(0,ce.GF)(fe,jt.derivationIndex,d?.from);(yield Q.YW.emit(F.A.BROADCAST_TRANSACTION,{signed:me,metadata:d,blockchainId:o.id,raw:!0}))?(pt(),Le(H.b.HISTORY)):(ht(""),Fe(!0))}catch(me){me.name==="TransportStatusError"&&vt(me,Ce),ht(me)}finally{we(!1)}}),[vt,Le,o.id,d,jt]),Rt=()=>{At&&x(null,null,function*(){if(We){bt(!0);try{yield Xt()}catch(S){vt(S,Ce)}return}try{if(we(!0),!(yield Q.YW.emit(F.A.COMMIT_TRANSACTION,d)))throw new Error("Transaction failed");pt(),Le(H.b.HISTORY)}catch(S){$.A.error(S),ht(S),we(!1),Fe(!0)}})},Tt=(0,v.useCallback)(()=>{Be.address=ae,Be.amount=c,Le(-1)},[Be,Le,ae]),Qt=d&&parseFloat(d.formattedFee)<lt;return(0,v.useEffect)(()=>(x(null,null,function*(){yield Q.YW.emit(M.A.START_POLL_GAS_FEES,rt)}).catch(ne.Z),()=>{Q.YW.emit(M.A.STOP_POLL_GAS_FEES)}),[]),(0,v.useEffect)(()=>{It()},[Te,It]),(0,v.useEffect)(()=>{function S(){return x(this,null,function*(){const me=yield Q.YW.emit(F.A.SUPPORTS_MEMO,o.id);Ue(me)})}function re(){return x(this,null,function*(){const me=yield Q.YW.emit(F.A.SUPPORTS_NONCE,o.id);Ee(me)})}function fe(){return x(this,null,function*(){const me=yield Q.YW.emit(F.A.SUPPORTS_CUSTOM_FEE,o);Oe(me)})}Promise.all([S(),re(),fe()])},[o.id]),(0,v.useEffect)(()=>{var S,re;De&&(d?.feeIs7702&&((S=d.feeAsset)==null?void 0:S.assetId)===it||d?.feeIs7702===!1&&((re=d.feeAsset)==null?void 0:re.assetId)===it)&&gt(!1)},[d,De]),(0,s.jsxs)(se.LN,{children:[(0,s.jsx)(se.zY,{backAction:Tt,title:je({id:"generic.confirm"})}),(0,s.jsxs)(se.Gv,{children:[(0,s.jsx)(E.Z,{nft:g,network:O.blockchain}),(0,s.jsx)(w.Z,{network:o,customNonce:Me,isLoading:Je||i||De,to:ae,memo:ee,amount:c,supportsMemo:Re,undervaluedGas:Qt,prepareSendResponse:d,toggleEditFeeModal:Ht,canEditFee:pe,supportsNonce:Qe,toggleEditNonceModal:Nt,flexGasIsSupported:R})]}),(0,s.jsx)(oe.w,{hideErrors:De,blockchainName:o.name,genericError:qe,validationBalanceError:mt.error,transactionIsValid:At,isSendingTransaction:at,onSendTransaction:Rt,txType:I.w.Send,buttonText:je({id:"generic.confirm"})}),d&&pe&&!R&&(0,s.jsx)(T.G,{defaultEIP1559Speed:Ct,isOpen:de,onClose:()=>Se(!1),onSave:Zt,params:rt,tx:d}),d&&pe&&R&&(0,s.jsx)(N.K,{opened:de,onClose:()=>Se(!1),selectedFeeAssetId:it,quotes:Lt,handleOnSave:S=>{zt(S),Se(!1),gt(!0)},onOpen:Vt,isLoading:$t}),(0,s.jsx)(W.X,{opened:Ve,onClose:()=>Fe(!1),onContinue:Tt}),$e&&Qe&&d&&(0,s.jsx)(V.j,{opened:he,onClose:Nt,customNonce:Me,setCustomNonce:ot,setTxData:tt}),(0,s.jsx)(Gt,{})]})};j()}catch(y){j(y)}})}),37167:((P,b,e)=>{e.d(b,{Z:()=>xe});var t=e(74848),j=e(55074),s=e(27883),r=e(48346),T=e(69254),V=e(86170),W=e(26858),H=e(92588),U=e(15192),L=e(96540),w=e(6442);const oe=({blockchain:q,fee:I,variant:A=s.P.DEFAULT,feeAsset:n,isLoading:l})=>{const{formatMessage:m}=(0,w.A)(),N=(0,W.NE)(q.coinId),C=(0,H.q)(n??N),{currency:a,baseCurrencyType:G}=(0,V.P)(),_=(0,L.useMemo)(()=>{var z;return(0,U.A)(I).mul((z=C?.price)!=null?z:0).toNumber()},[I,C]);return _?(0,t.jsx)(j.F,{label:m({id:"generic.total-fiat"},{currency:a}),labelInfoBox:m({id:"generic-total-fiat-info"},{currency:a}),variant:A,children:(0,t.jsx)(r.S,{widthClass:"w-22.5",heightClass:"h-4",isLoading:!_||l,children:(0,t.jsx)(T.h,{value:_,amountType:G,testid:"total-fiat-amount",currency:a})})}):null};var E=e(74576),se=e(90086),Q=e(65512),F=e(52619),M=e(75321),Y=e(4800),te=e(85239),D=e(52114),Z=e(1279),le=e(5027),ne=e(66392),ce=e(40790),$=e(3280),B=e(21094),k=e(7011),v=e(41327),ye=e(94893),Ie=e(68632),X=e(65504),Ne=e(80772);const xe=({network:q,customNonce:I,isLoading:A,to:n,memo:l,amount:m,supportsMemo:N,undervaluedGas:C,prepareSendResponse:a,toggleEditFeeModal:G,canEditFee:_,supportsNonce:z,toggleEditNonceModal:K,isRisky:be,flexGasIsSupported:He})=>{var Ze,Ge,Ae,Xe,ze,ge;const{formatMessage:h}=(0,w.A)(),x=(0,$.p)(),{isCustomNonceEnabled:y}=(0,le.j)(),O=(0,ce.F7)(q.coinId),g=parseInt(I.editedNonce)<I.originalNonce,{currency:o,baseCurrencyType:ae}=(0,V.P)(),ee=(0,W.NE)(q.coinId),c=(0,H.q)(a?.feeIs7702?a.feeAsset:ee);if(!O)throw new Error(`Account for ${q.coinId} not found`);const J=(0,L.useMemo)(()=>{var ie,i;return(0,U.A)((ie=a?.formattedFee)!=null?ie:0).mul((i=c?.price)!=null?i:0).toNumber()},[a,c]);return(0,t.jsxs)(Y.LO,{children:[(0,t.jsx)("div",{className:"mt-4"}),(0,t.jsxs)(te.B,{children:[(0,t.jsx)(se.q,{network:q,sender:O.address,variant:s.P.TABLE_LIST}),(0,t.jsx)(E.C,{recipient:n,type:ne.w.Send,network:q,variant:s.P.TABLE_LIST}),N&&l&&(0,t.jsx)(j.F,{label:h({id:"input-memo.placeholder"}),variant:s.P.TABLE_LIST,children:(0,t.jsx)(D.E,{testid:"send-nft-memo-tag",children:l})}),(0,t.jsx)(j.F,{label:h({id:"generic.network"}),variant:s.P.TABLE_LIST,children:(0,t.jsx)(D.E,{testid:"network-name",children:(Ze=q.displayName)!=null?Ze:q.name})}),m&&Number(m)>1&&(0,t.jsx)(j.F,{label:h({id:"generic.amount"}),variant:s.P.TABLE_LIST,children:(0,t.jsx)(T.h,{testid:"send-token-amount",value:m,currency:"",amountType:B.Cu.CRYPTO})})]}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsxs)(te.B,{children:[He&&(0,t.jsx)(k.x,{}),(0,t.jsx)(j.F,{label:h({id:"generic.estimated-network-fee"}),labelTheme:C?Z.Il.WARNING_1_DEFAULT:Z.Il.UTILITY_1_OPACITY_1,warning:C?h({id:"send.low-gas-warning"}):null,labelInfoBox:x?h({id:"send.confirm.hardware-wallet-gas-info"}):null,variant:s.P.TABLE_LIST,children:(0,t.jsx)(ye.c,{testid:"edit-network-fee-button",currentlyUnclickable:!_,onClick:G,disabled:A,children:(0,t.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("div",{children:(0,t.jsx)(r.S,{isLoading:A,widthClass:"w-22.5",heightClass:"h-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{children:(0,t.jsx)(X.q,{src:a?.feeIs7702?(Ge=a.feeAsset)==null?void 0:Ge.iconUrl:(0,Ne.Bv)(q,ee),name:a?.feeIs7702?(Xe=(Ae=a.feeAsset)==null?void 0:Ae.name)!=null?Xe:"":ee.name,size:Ie.Y.XXSMALL})}),(0,t.jsx)("div",{children:(0,t.jsx)(T.h,{theme:C?Z.Il.WARNING_1_DEFAULT:Z.Il.UTILITY_1_DEFAULT,weight:Z.nG.MEDIUM,textType:Z.jK.SUBHEADER_14,testid:"network-fee-fiat",value:J,amountType:ae,currency:o})})]})})}),(0,t.jsx)("div",{children:(0,t.jsx)(r.S,{isLoading:A,marginClass:"mt-[2px]",widthClass:"w-22.5",heightClass:"h-4",children:(0,t.jsx)(T.h,{testid:"network-fee",theme:C?Z.Il.WARNING_1_DEFAULT:Z.Il.UTILITY_1_OPACITY_1,weight:Z.nG.NORMAL,textType:Z.jK.BODY_12,value:a?.formattedFee,currency:a?.feeIs7702?(ze=a.feeAsset)==null?void 0:ze.symbol:ee.symbol,amountType:B.Cu.CRYPTO,maxSignificantDecimals:10,tinyThreshold:10})})})]}),_&&(0,t.jsx)("div",{children:(0,t.jsx)(v.v,{colorClass:C?"text-primary-default":"text-utility-1-opacity-1"})})]})})})]})}),(0,t.jsxs)(te.B,{children:[y&&z&&(0,t.jsxs)(j.F,{labelTheme:g?Z.Il.WARNING_1_DEFAULT:Z.Il.UTILITY_1_OPACITY_1,label:h({id:"generic.transaction-nonce"}),warning:g?h({id:"send.nonce-warning"}):null,variant:s.P.TABLE_LIST,children:[(0,t.jsx)("div",{children:(0,t.jsx)(D.E,{theme:g?Z.Il.WARNING_1_DEFAULT:Z.Il.UTILITY_1_OPACITY_1,children:I.editedNonce})}),(0,t.jsx)("div",{className:"pl-1",children:(0,t.jsx)(Q.$,{noPadding:!0,theme:F.ry.TRANSPARENT,onClick:K,children:(0,t.jsx)(M.R,{width:15,height:15,colorClass:g?"text-textBrand":"text-iconNormal"})})})]}),(0,t.jsx)(oe,{isLoading:A,blockchain:q,fee:parseFloat((ge=a?.formattedFee)!=null?ge:"0"),feeAsset:a?.feeAsset,variant:s.P.TABLE_LIST})]})]})}}),40793:((P,b,e)=>{e.a(P,async(t,j)=>{try{let E=function(F){return F&&"asset"in F&&"amount"in F},se=function(F){return F&&"collection"in F&&"nft"in F};var w=E,oe=se;e.d(b,{p:()=>Q});var s=e(74848),r=e(26264),T=e(77711),V=e(36631),W=e(93155),H=e(96540),U=e(47767),L=t([T,V]);[T,V]=L.then?(await L)():L;const Q=()=>{const{state:F}=(0,U.zy)(),M=(0,U.Zp)();return F||W.A.error(`${r.b.SEND_CONFIRM} -  "${F}" is not valid.`),(0,H.useEffect)(()=>{F||M(r.b.DEFAULT)},[]),E(F)?(0,s.jsx)(T.w,{state:F}):se(F)?(0,s.jsx)(V.w,{state:F}):null};j()}catch(E){j(E)}})}),41411:((P,b,e)=>{e.d(b,{D:()=>t});const t=j=>({isValid:!j,error:j??void 0})}),46707:((P,b,e)=>{e.d(b,{j:()=>s});var t=e(68157),j=e(96540);const s=(r,T)=>{const V=(0,t.GV)(W=>W.nft.nfts[r].items);return(0,j.useMemo)(()=>V.find(W=>W.id===T),[V,T])}}),53764:((P,b,e)=>{e.d(b,{W:()=>A});var t=e(74848),j=e(26264),s=e(78262),r=e(94893),T=e(152),V=e(65504),W=e(50784),H=e(68632),U=e(52114),L=e(1279);const w=({inscription:n,asset:l,onClick:m})=>(0,t.jsx)(T.Z,{noPadding:!0,children:(0,t.jsxs)(r.c,{onClick:()=>m(n.id),children:[(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(s.k,{on:n.isSelected})}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-4",children:[(0,t.jsx)(V.q,{src:l.iconUrl,name:l.name,size:H.Y.XXSMALL}),(0,t.jsxs)(U.E,{children:[n.amount," ",l.symbol]})]})]}),(0,t.jsx)(W.c,{noMargin:!0}),(0,t.jsx)("div",{className:"p-2 text-center",children:(0,t.jsxs)(U.E,{type:L.jK.CAPTION,theme:L.Il.SECONDARY,children:["#",n.inscriptionNumber]})})]})});var oe=e(65512),E=e(52619),se=e(3367),Q=e(4800),F=e(64145),M=e(22670),Y=e(26858),te=e(47996),D=e(7707),Z=e(31902),le=e(96540),ne=e(6442),ce=e(47767),$=e(79830),B=Object.defineProperty,k=Object.defineProperties,v=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,Ne=(n,l,m)=>l in n?B(n,l,{enumerable:!0,configurable:!0,writable:!0,value:m}):n[l]=m,xe=(n,l)=>{for(var m in l||(l={}))Ie.call(l,m)&&Ne(n,m,l[m]);if(ye)for(var m of ye(l))X.call(l,m)&&Ne(n,m,l[m]);return n},q=(n,l)=>k(n,v(l)),I=(n,l,m)=>new Promise((N,C)=>{var a=z=>{try{_(m.next(z))}catch(K){C(K)}},G=z=>{try{_(m.throw(z))}catch(K){C(K)}},_=z=>z.done?N(z.value):Promise.resolve(z.value).then(a,G);_((m=m.apply(n,l)).next())});const A=()=>{const{formatMessage:n}=(0,ne.A)(),l=(0,ce.Zp)(),{assetId:m}=(0,ce.g)(),N=(0,Y.Mr)(m);if(!N)throw new Error(`Could not find asset for assetId "${m}"`);const C=(0,le.useContext)(se.o),a=(0,te.o)(N.blockchainId),G=(0,D.A)(N.assetId),z=(0,Z.P)(N.assetId)!=="0",[K,be]=(0,le.useState)([]),[He,Ze]=(0,le.useState)(z),Ge=!He&&!z,Ae=(0,le.useMemo)(()=>K.reduce((h,x)=>x.isSelected?h+Number(x.amount):h,0),[K]),Xe=h=>{const x=K.map(y=>y.id===h?q(xe({},y),{isSelected:!y.isSelected}):y);be(x)},ze=()=>{l(`${j.b.SEND}/${N.assetId}/inscribe`)},ge=()=>{const h=K.filter(x=>x.isSelected).map(x=>x.id);C.setContext({address:"",amount:Ae.toString(),inscriptions:h}),l(`${j.b.SEND}/${N.assetId}`)};return(0,le.useEffect)(()=>{I(null,null,function*(){if(z)try{const x=(yield F.YW.emit(M.A.FETCH_INSCRIPTIONS_BALANCE_FOR_ADDRESS,{blockchainId:a.id,address:N.address,decimals:N.decimals})).map(y=>q(xe({},y),{isSelected:C.inscriptions?C.inscriptions.includes(y.id):!1}));be(x)}finally{Ze(!1)}})},[]),(0,t.jsxs)(Q.LN,{children:[(0,t.jsx)(Q.zY,{backAction:()=>l(-1),title:n({id:"send.title"},{assetSymbol:N.symbol})}),(0,t.jsxs)(Q.Gv,{children:[(0,t.jsxs)(Q.LO,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-1 text-center pb-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(V.q,{src:N.iconUrl,name:N.name,network:N.address?a:void 0,size:H.Y.LARGE})}),(0,t.jsx)(U.E,{type:L.jK.SUBTITLE,theme:L.Il.SECONDARY,children:n({id:"generic.on-network"},{networkName:a.name})}),(0,t.jsx)("div",{className:"mt-1.5",children:(0,t.jsxs)(U.E,{type:L.jK.SCREAMER,children:[Ae," ",N.symbol]})})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-4 mb-4",children:[(0,t.jsx)(T.Z,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(V.q,{src:N.iconUrl,name:N.name}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(U.E,{type:L.jK.CAPTION,theme:L.Il.SECONDARY,children:n({id:"send.non-transferable-balance"})}),(0,t.jsxs)(U.E,{type:L.jK.TITLE,children:[G," ",N.symbol]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(oe.$,{shape:E.dB.BADGE,onClick:ze,children:n({id:"generic.inscribe"})})})]})}),He&&(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)($.y,{})}),Ge&&(0,t.jsx)("div",{className:"mx-auto",children:(0,t.jsx)(U.E,{type:L.jK.CAPTION,theme:L.Il.SECONDARY,children:n({id:"generic.inscription.no-transferable-disclaimer"},{assetSymbol:N.symbol})})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 justify-between",children:K.map(h=>(0,t.jsx)(w,{inscription:h,asset:N,onClick:Xe},h.id))})]})]}),(0,t.jsx)(oe.$,{testid:"button-prepare-send-inscription",disabled:!Ae,onClick:ge,children:n({id:"generic.continue"})})]})]})}}),65818:((P,b,e)=>{e.d(b,{Q:()=>s});var t=e(96540),j=e(78023);const s=r=>{const T=(0,j.X)();return(0,t.useMemo)(()=>T.find(V=>V.id===r),[r,T])}}),78262:((P,b,e)=>{e.d(b,{k:()=>s});var t=e(74848),j=e(57886);const s=({on:r})=>r?(0,t.jsx)(j.y,{width:16,height:16,colorClass:"text-primary"}):(0,t.jsx)("div",{className:"border-backgroundTertiary border-2 rounded-lg w-4 h-4"})}),92926:((P,b,e)=>{e.d(b,{e:()=>t,z:()=>j});var t=(s=>(s.INITIATE="initiate",s.UPDATE="update",s.CLOSE="close",s))(t||{}),j=(s=>(s.recipient="recipient",s.meta="meta",s.amount="amount",s.maxAmount="maxAmount",s))(j||{})})}]);

//# sourceMappingURL=4645.js.map