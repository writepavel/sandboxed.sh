try{let J=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},mt=new J.Error().stack;mt&&(J._sentryDebugIds=J._sentryDebugIds||{},J._sentryDebugIds[mt]="98433a61-8a27-4938-90f2-3e3d578316da",J._sentryDebugIdIdentifier="sentry-dbid-98433a61-8a27-4938-90f2-3e3d578316da")}catch{}{let J=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};J.SENTRY_RELEASE={id:"2.66.0"}}(self.webpackChunkbrowser_extension_wallet=self.webpackChunkbrowser_extension_wallet||[]).push([[7283],{97283:((J,mt,Ot)=>{var Dt=Ot(48287).Buffer;(function(Mt,wt){J.exports=wt()})(self,(()=>(()=>{var Mt={873:(F,H)=>{var Q,gt,vt=(function(){var V=function(y,p){var _=y,w=it[p],u=null,m=0,S=null,x=[],A={},f=function(e,o){u=(function(s){for(var h=new Array(s),l=0;l<s;l+=1){h[l]=new Array(s);for(var b=0;b<s;b+=1)h[l][b]=null}return h})(m=4*_+17),t(0,0),t(m-7,0),t(0,m-7),n(),r(),a(e,o),_>=7&&i(e),S==null&&(S=v(_,w,x)),c(S,o)},t=function(e,o){for(var s=-1;s<=7;s+=1)if(!(e+s<=-1||m<=e+s))for(var h=-1;h<=7;h+=1)o+h<=-1||m<=o+h||(u[e+s][o+h]=0<=s&&s<=6&&(h==0||h==6)||0<=h&&h<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=h&&h<=4)},r=function(){for(var e=8;e<m-8;e+=1)u[e][6]==null&&(u[e][6]=e%2==0);for(var o=8;o<m-8;o+=1)u[6][o]==null&&(u[6][o]=o%2==0)},n=function(){for(var e=G.getPatternPosition(_),o=0;o<e.length;o+=1)for(var s=0;s<e.length;s+=1){var h=e[o],l=e[s];if(u[h][l]==null)for(var b=-2;b<=2;b+=1)for(var g=-2;g<=2;g+=1)u[h+b][l+g]=b==-2||b==2||g==-2||g==2||b==0&&g==0}},i=function(e){for(var o=G.getBCHTypeNumber(_),s=0;s<18;s+=1){var h=!e&&(o>>s&1)==1;u[Math.floor(s/3)][s%3+m-8-3]=h}for(s=0;s<18;s+=1)h=!e&&(o>>s&1)==1,u[s%3+m-8-3][Math.floor(s/3)]=h},a=function(e,o){for(var s=w<<3|o,h=G.getBCHTypeInfo(s),l=0;l<15;l+=1){var b=!e&&(h>>l&1)==1;l<6?u[l][8]=b:l<8?u[l+1][8]=b:u[m-15+l][8]=b}for(l=0;l<15;l+=1)b=!e&&(h>>l&1)==1,l<8?u[8][m-l-1]=b:l<9?u[8][15-l-1+1]=b:u[8][15-l-1]=b;u[m-8][8]=!e},c=function(e,o){for(var s=-1,h=m-1,l=7,b=0,g=G.getMaskFunction(o),C=m-1;C>0;C-=2)for(C==6&&(C-=1);;){for(var k=0;k<2;k+=1)if(u[h][C-k]==null){var O=!1;b<e.length&&(O=(e[b]>>>l&1)==1),g(h,C-k)&&(O=!O),u[h][C-k]=O,(l-=1)==-1&&(b+=1,l=7)}if((h+=s)<0||m<=h){h-=s,s=-s;break}}},v=function(e,o,s){for(var h=st.getRSBlocks(e,o),l=pt(),b=0;b<s.length;b+=1){var g=s[b];l.put(g.getMode(),4),l.put(g.getLength(),G.getLengthInBits(g.getMode(),e)),g.write(l)}var C=0;for(b=0;b<h.length;b+=1)C+=h[b].dataCount;if(l.getLengthInBits()>8*C)throw"code length overflow. ("+l.getLengthInBits()+">"+8*C+")";for(l.getLengthInBits()+4<=8*C&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*C||(l.put(236,8),l.getLengthInBits()>=8*C));)l.put(17,8);return(function(k,O){for(var B=0,M=0,z=0,D=new Array(O.length),E=new Array(O.length),P=0;P<O.length;P+=1){var R=O[P].dataCount,Y=O[P].totalCount-R;M=Math.max(M,R),z=Math.max(z,Y),D[P]=new Array(R);for(var I=0;I<D[P].length;I+=1)D[P][I]=255&k.getBuffer()[I+B];B+=R;var L=G.getErrorCorrectPolynomial(Y),N=at(D[P],L.getLength()-1).mod(L);for(E[P]=new Array(L.getLength()-1),I=0;I<E[P].length;I+=1){var j=I+N.getLength()-E[P].length;E[P][I]=j>=0?N.getAt(j):0}}var X=0;for(I=0;I<O.length;I+=1)X+=O[I].totalCount;var rt=new Array(X),U=0;for(I=0;I<M;I+=1)for(P=0;P<O.length;P+=1)I<D[P].length&&(rt[U]=D[P][I],U+=1);for(I=0;I<z;I+=1)for(P=0;P<O.length;P+=1)I<E[P].length&&(rt[U]=E[P][I],U+=1);return rt})(l,h)};A.addData=function(e,o){var s=null;switch(o=o||"Byte"){case"Numeric":s=_t(e);break;case"Alphanumeric":s=et(e);break;case"Byte":s=nt(e);break;case"Kanji":s=bt(e);break;default:throw"mode:"+o}x.push(s),S=null},A.isDark=function(e,o){if(e<0||m<=e||o<0||m<=o)throw e+","+o;return u[e][o]},A.getModuleCount=function(){return m},A.make=function(){if(_<1){for(var e=1;e<40;e++){for(var o=st.getRSBlocks(e,w),s=pt(),h=0;h<x.length;h++){var l=x[h];s.put(l.getMode(),4),s.put(l.getLength(),G.getLengthInBits(l.getMode(),e)),l.write(s)}var b=0;for(h=0;h<o.length;h++)b+=o[h].dataCount;if(s.getLengthInBits()<=8*b)break}_=e}f(!1,(function(){for(var g=0,C=0,k=0;k<8;k+=1){f(!0,k);var O=G.getLostPoint(A);(k==0||g>O)&&(g=O,C=k)}return C})())},A.createTableTag=function(e,o){e=e||2;var s="";s+='<table style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: "+(o=o===void 0?4*e:o)+"px;",s+='">',s+="<tbody>";for(var h=0;h<A.getModuleCount();h+=1){s+="<tr>";for(var l=0;l<A.getModuleCount();l+=1)s+='<td style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: 0px;",s+=" width: "+e+"px;",s+=" height: "+e+"px;",s+=" background-color: ",s+=A.isDark(h,l)?"#000000":"#ffffff",s+=";",s+='"/>';s+="</tr>"}return(s+="</tbody>")+"</table>"},A.createSvgTag=function(e,o,s,h){var l={};typeof arguments[0]=="object"&&(e=(l=arguments[0]).cellSize,o=l.margin,s=l.alt,h=l.title),e=e||2,o=o===void 0?4*e:o,(s=typeof s=="string"?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-description":null,(h=typeof h=="string"?{text:h}:h||{}).text=h.text||null,h.id=h.text?h.id||"qrcode-title":null;var b,g,C,k,O=A.getModuleCount()*e+2*o,B="";for(k="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",B+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',B+=l.scalable?"":' width="'+O+'px" height="'+O+'px"',B+=' viewBox="0 0 '+O+" "+O+'" ',B+=' preserveAspectRatio="xMinYMin meet"',B+=h.text||s.text?' role="img" aria-labelledby="'+d([h.id,s.id].join(" ").trim())+'"':"",B+=">",B+=h.text?'<title id="'+d(h.id)+'">'+d(h.text)+"</title>":"",B+=s.text?'<description id="'+d(s.id)+'">'+d(s.text)+"</description>":"",B+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',B+='<path d="',g=0;g<A.getModuleCount();g+=1)for(C=g*e+o,b=0;b<A.getModuleCount();b+=1)A.isDark(g,b)&&(B+="M"+(b*e+o)+","+C+k);return(B+='" stroke="transparent" fill="black"/>')+"</svg>"},A.createDataURL=function(e,o){e=e||2,o=o===void 0?4*e:o;var s=A.getModuleCount()*e+2*o,h=o,l=s-o;return ft(s,s,(function(b,g){if(h<=b&&b<l&&h<=g&&g<l){var C=Math.floor((b-h)/e),k=Math.floor((g-h)/e);return A.isDark(k,C)?0:1}return 1}))},A.createImgTag=function(e,o,s){e=e||2,o=o===void 0?4*e:o;var h=A.getModuleCount()*e+2*o,l="";return l+="<img",l+=' src="',l+=A.createDataURL(e,o),l+='"',l+=' width="',l+=h,l+='"',l+=' height="',l+=h,l+='"',s&&(l+=' alt="',l+=d(s),l+='"'),l+"/>"};var d=function(e){for(var o="",s=0;s<e.length;s+=1){var h=e.charAt(s);switch(h){case"<":o+="&lt;";break;case">":o+="&gt;";break;case"&":o+="&amp;";break;case'"':o+="&quot;";break;default:o+=h}}return o};return A.createASCII=function(e,o){if((e=e||1)<2)return(function(D){D=D===void 0?2:D;var E,P,R,Y,I,L=1*A.getModuleCount()+2*D,N=D,j=L-D,X={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},rt={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},U="";for(E=0;E<L;E+=2){for(R=Math.floor((E-N)/1),Y=Math.floor((E+1-N)/1),P=0;P<L;P+=1)I="\u2588",N<=P&&P<j&&N<=E&&E<j&&A.isDark(R,Math.floor((P-N)/1))&&(I=" "),N<=P&&P<j&&N<=E+1&&E+1<j&&A.isDark(Y,Math.floor((P-N)/1))?I+=" ":I+="\u2588",U+=D<1&&E+1>=j?rt[I]:X[I];U+=`
`}return L%2&&D>0?U.substring(0,U.length-L-1)+Array(L+1).join("\u2580"):U.substring(0,U.length-1)})(o);e-=1,o=o===void 0?2*e:o;var s,h,l,b,g=A.getModuleCount()*e+2*o,C=o,k=g-o,O=Array(e+1).join("\u2588\u2588"),B=Array(e+1).join("  "),M="",z="";for(s=0;s<g;s+=1){for(l=Math.floor((s-C)/e),z="",h=0;h<g;h+=1)b=1,C<=h&&h<k&&C<=s&&s<k&&A.isDark(l,Math.floor((h-C)/e))&&(b=0),z+=b?O:B;for(l=0;l<e;l+=1)M+=z+`
`}return M.substring(0,M.length-1)},A.renderTo2dContext=function(e,o){o=o||2;for(var s=A.getModuleCount(),h=0;h<s;h++)for(var l=0;l<s;l++)e.fillStyle=A.isDark(h,l)?"black":"white",e.fillRect(h*o,l*o,o,o)},A};V.stringToBytes=(V.stringToBytesFuncs={default:function(y){for(var p=[],_=0;_<y.length;_+=1){var w=y.charCodeAt(_);p.push(255&w)}return p}}).default,V.createStringToBytes=function(y,p){var _=(function(){for(var u=yt(y),m=function(){var r=u.read();if(r==-1)throw"eof";return r},S=0,x={};;){var A=u.read();if(A==-1)break;var f=m(),t=m()<<8|m();x[String.fromCharCode(A<<8|f)]=t,S+=1}if(S!=p)throw S+" != "+p;return x})(),w=63;return function(u){for(var m=[],S=0;S<u.length;S+=1){var x=u.charCodeAt(S);if(x<128)m.push(x);else{var A=_[u.charAt(S)];typeof A=="number"?(255&A)==A?m.push(A):(m.push(A>>>8),m.push(255&A)):m.push(w)}}return m}};var T,Z,$,q,W,it={L:1,M:0,Q:3,H:2},G=(T=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Z=1335,$=7973,W=function(y){for(var p=0;y!=0;)p+=1,y>>>=1;return p},(q={}).getBCHTypeInfo=function(y){for(var p=y<<10;W(p)-W(Z)>=0;)p^=Z<<W(p)-W(Z);return 21522^(y<<10|p)},q.getBCHTypeNumber=function(y){for(var p=y<<12;W(p)-W($)>=0;)p^=$<<W(p)-W($);return y<<12|p},q.getPatternPosition=function(y){return T[y-1]},q.getMaskFunction=function(y){switch(y){case 0:return function(p,_){return(p+_)%2==0};case 1:return function(p,_){return p%2==0};case 2:return function(p,_){return _%3==0};case 3:return function(p,_){return(p+_)%3==0};case 4:return function(p,_){return(Math.floor(p/2)+Math.floor(_/3))%2==0};case 5:return function(p,_){return p*_%2+p*_%3==0};case 6:return function(p,_){return(p*_%2+p*_%3)%2==0};case 7:return function(p,_){return(p*_%3+(p+_)%2)%2==0};default:throw"bad maskPattern:"+y}},q.getErrorCorrectPolynomial=function(y){for(var p=at([1],0),_=0;_<y;_+=1)p=p.multiply(at([1,tt.gexp(_)],0));return p},q.getLengthInBits=function(y,p){if(1<=p&&p<10)switch(y){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+y}else if(p<27)switch(y){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+y}else{if(!(p<41))throw"type:"+p;switch(y){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+y}}},q.getLostPoint=function(y){for(var p=y.getModuleCount(),_=0,w=0;w<p;w+=1)for(var u=0;u<p;u+=1){for(var m=0,S=y.isDark(w,u),x=-1;x<=1;x+=1)if(!(w+x<0||p<=w+x))for(var A=-1;A<=1;A+=1)u+A<0||p<=u+A||x==0&&A==0||S==y.isDark(w+x,u+A)&&(m+=1);m>5&&(_+=3+m-5)}for(w=0;w<p-1;w+=1)for(u=0;u<p-1;u+=1){var f=0;y.isDark(w,u)&&(f+=1),y.isDark(w+1,u)&&(f+=1),y.isDark(w,u+1)&&(f+=1),y.isDark(w+1,u+1)&&(f+=1),f!=0&&f!=4||(_+=3)}for(w=0;w<p;w+=1)for(u=0;u<p-6;u+=1)y.isDark(w,u)&&!y.isDark(w,u+1)&&y.isDark(w,u+2)&&y.isDark(w,u+3)&&y.isDark(w,u+4)&&!y.isDark(w,u+5)&&y.isDark(w,u+6)&&(_+=40);for(u=0;u<p;u+=1)for(w=0;w<p-6;w+=1)y.isDark(w,u)&&!y.isDark(w+1,u)&&y.isDark(w+2,u)&&y.isDark(w+3,u)&&y.isDark(w+4,u)&&!y.isDark(w+5,u)&&y.isDark(w+6,u)&&(_+=40);var t=0;for(u=0;u<p;u+=1)for(w=0;w<p;w+=1)y.isDark(w,u)&&(t+=1);return _+Math.abs(100*t/p/p-50)/5*10},q),tt=(function(){for(var y=new Array(256),p=new Array(256),_=0;_<8;_+=1)y[_]=1<<_;for(_=8;_<256;_+=1)y[_]=y[_-4]^y[_-5]^y[_-6]^y[_-8];for(_=0;_<255;_+=1)p[y[_]]=_;return{glog:function(w){if(w<1)throw"glog("+w+")";return p[w]},gexp:function(w){for(;w<0;)w+=255;for(;w>=256;)w-=255;return y[w]}}})();function at(y,p){if(y.length===void 0)throw y.length+"/"+p;var _=(function(){for(var u=0;u<y.length&&y[u]==0;)u+=1;for(var m=new Array(y.length-u+p),S=0;S<y.length-u;S+=1)m[S]=y[S+u];return m})(),w={getAt:function(u){return _[u]},getLength:function(){return _.length},multiply:function(u){for(var m=new Array(w.getLength()+u.getLength()-1),S=0;S<w.getLength();S+=1)for(var x=0;x<u.getLength();x+=1)m[S+x]^=tt.gexp(tt.glog(w.getAt(S))+tt.glog(u.getAt(x)));return at(m,0)},mod:function(u){if(w.getLength()-u.getLength()<0)return w;for(var m=tt.glog(w.getAt(0))-tt.glog(u.getAt(0)),S=new Array(w.getLength()),x=0;x<w.getLength();x+=1)S[x]=w.getAt(x);for(x=0;x<u.getLength();x+=1)S[x]^=tt.gexp(tt.glog(u.getAt(x))+m);return at(S,0).mod(u)}};return w}var st=(function(){var y=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p=function(w,u){var m={};return m.totalCount=w,m.dataCount=u,m},_={getRSBlocks:function(w,u){var m=(function(i,a){switch(a){case it.L:return y[4*(i-1)+0];case it.M:return y[4*(i-1)+1];case it.Q:return y[4*(i-1)+2];case it.H:return y[4*(i-1)+3];default:return}})(w,u);if(m===void 0)throw"bad rs block @ typeNumber:"+w+"/errorCorrectionLevel:"+u;for(var S=m.length/3,x=[],A=0;A<S;A+=1)for(var f=m[3*A+0],t=m[3*A+1],r=m[3*A+2],n=0;n<f;n+=1)x.push(p(t,r));return x}};return _})(),pt=function(){var y=[],p=0,_={getBuffer:function(){return y},getAt:function(w){var u=Math.floor(w/8);return(y[u]>>>7-w%8&1)==1},put:function(w,u){for(var m=0;m<u;m+=1)_.putBit((w>>>u-m-1&1)==1)},getLengthInBits:function(){return p},putBit:function(w){var u=Math.floor(p/8);y.length<=u&&y.push(0),w&&(y[u]|=128>>>p%8),p+=1}};return _},_t=function(y){var p=y,_={getMode:function(){return 1},getLength:function(m){return p.length},write:function(m){for(var S=p,x=0;x+2<S.length;)m.put(w(S.substring(x,x+3)),10),x+=3;x<S.length&&(S.length-x==1?m.put(w(S.substring(x,x+1)),4):S.length-x==2&&m.put(w(S.substring(x,x+2)),7))}},w=function(m){for(var S=0,x=0;x<m.length;x+=1)S=10*S+u(m.charAt(x));return S},u=function(m){if("0"<=m&&m<="9")return m.charCodeAt(0)-48;throw"illegal char :"+m};return _},et=function(y){var p=y,_={getMode:function(){return 2},getLength:function(u){return p.length},write:function(u){for(var m=p,S=0;S+1<m.length;)u.put(45*w(m.charAt(S))+w(m.charAt(S+1)),11),S+=2;S<m.length&&u.put(w(m.charAt(S)),6)}},w=function(u){if("0"<=u&&u<="9")return u.charCodeAt(0)-48;if("A"<=u&&u<="Z")return u.charCodeAt(0)-65+10;switch(u){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+u}};return _},nt=function(y){var p=V.stringToBytes(y);return{getMode:function(){return 4},getLength:function(_){return p.length},write:function(_){for(var w=0;w<p.length;w+=1)_.put(p[w],8)}}},bt=function(y){var p=V.stringToBytesFuncs.SJIS;if(!p)throw"sjis not supported.";(function(){var u=p("\u53CB");if(u.length!=2||(u[0]<<8|u[1])!=38726)throw"sjis not supported."})();var _=p(y),w={getMode:function(){return 8},getLength:function(u){return~~(_.length/2)},write:function(u){for(var m=_,S=0;S+1<m.length;){var x=(255&m[S])<<8|255&m[S+1];if(33088<=x&&x<=40956)x-=33088;else{if(!(57408<=x&&x<=60351))throw"illegal char at "+(S+1)+"/"+x;x-=49472}x=192*(x>>>8&255)+(255&x),u.put(x,13),S+=2}if(S<m.length)throw"illegal char at "+(S+1)}};return w},lt=function(){var y=[],p={writeByte:function(_){y.push(255&_)},writeShort:function(_){p.writeByte(_),p.writeByte(_>>>8)},writeBytes:function(_,w,u){w=w||0,u=u||_.length;for(var m=0;m<u;m+=1)p.writeByte(_[m+w])},writeString:function(_){for(var w=0;w<_.length;w+=1)p.writeByte(_.charCodeAt(w))},toByteArray:function(){return y},toString:function(){var _="";_+="[";for(var w=0;w<y.length;w+=1)w>0&&(_+=","),_+=y[w];return _+"]"}};return p},yt=function(y){var p=y,_=0,w=0,u=0,m={read:function(){for(;u<8;){if(_>=p.length){if(u==0)return-1;throw"unexpected end of file./"+u}var x=p.charAt(_);if(_+=1,x=="=")return u=0,-1;x.match(/^\s$/)||(w=w<<6|S(x.charCodeAt(0)),u+=6)}var A=w>>>u-8&255;return u-=8,A}},S=function(x){if(65<=x&&x<=90)return x-65;if(97<=x&&x<=122)return x-97+26;if(48<=x&&x<=57)return x-48+52;if(x==43)return 62;if(x==47)return 63;throw"c:"+x};return m},ft=function(y,p,_){for(var w=(function(t,r){var n=t,i=r,a=new Array(t*r),c={setPixel:function(e,o,s){a[o*n+e]=s},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(i),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(i),e.writeByte(0);var o=v(2);e.writeByte(2);for(var s=0;o.length-s>255;)e.writeByte(255),e.writeBytes(o,s,255),s+=255;e.writeByte(o.length-s),e.writeBytes(o,s,o.length-s),e.writeByte(0),e.writeString(";")}},v=function(e){for(var o=1<<e,s=1+(1<<e),h=e+1,l=d(),b=0;b<o;b+=1)l.add(String.fromCharCode(b));l.add(String.fromCharCode(o)),l.add(String.fromCharCode(s));var g,C,k,O=lt(),B=(g=O,C=0,k=0,{write:function(E,P){if(E>>>P)throw"length over";for(;C+P>=8;)g.writeByte(255&(E<<C|k)),P-=8-C,E>>>=8-C,k=0,C=0;k|=E<<C,C+=P},flush:function(){C>0&&g.writeByte(k)}});B.write(o,h);var M=0,z=String.fromCharCode(a[M]);for(M+=1;M<a.length;){var D=String.fromCharCode(a[M]);M+=1,l.contains(z+D)?z+=D:(B.write(l.indexOf(z),h),l.size()<4095&&(l.size()==1<<h&&(h+=1),l.add(z+D)),z=D)}return B.write(l.indexOf(z),h),B.write(s,h),B.flush(),O.toByteArray()},d=function(){var e={},o=0,s={add:function(h){if(s.contains(h))throw"dup key:"+h;e[h]=o,o+=1},size:function(){return o},indexOf:function(h){return e[h]},contains:function(h){return e[h]!==void 0}};return s};return c})(y,p),u=0;u<p;u+=1)for(var m=0;m<y;m+=1)w.setPixel(m,u,_(m,u));var S=lt();w.write(S);for(var x=(function(){var t=0,r=0,n=0,i="",a={},c=function(d){i+=String.fromCharCode(v(63&d))},v=function(d){if(!(d<0)){if(d<26)return 65+d;if(d<52)return d-26+97;if(d<62)return d-52+48;if(d==62)return 43;if(d==63)return 47}throw"n:"+d};return a.writeByte=function(d){for(t=t<<8|255&d,r+=8,n+=1;r>=6;)c(t>>>r-6),r-=6},a.flush=function(){if(r>0&&(c(t<<6-r),t=0,r=0),n%3!=0)for(var d=3-n%3,e=0;e<d;e+=1)i+="="},a.toString=function(){return i},a})(),A=S.toByteArray(),f=0;f<A.length;f+=1)x.writeByte(A[f]);return x.flush(),"data:image/gif;base64,"+x};return V})();vt.stringToBytesFuncs["UTF-8"]=function(V){return(function(T){for(var Z=[],$=0;$<T.length;$++){var q=T.charCodeAt($);q<128?Z.push(q):q<2048?Z.push(192|q>>6,128|63&q):q<55296||q>=57344?Z.push(224|q>>12,128|q>>6&63,128|63&q):($++,q=65536+((1023&q)<<10|1023&T.charCodeAt($)),Z.push(240|q>>18,128|q>>12&63,128|q>>6&63,128|63&q))}return Z})(V)},(gt=typeof(Q=function(){return vt})=="function"?Q.apply(H,[]):Q)===void 0||(F.exports=gt)}},wt={};function K(F){var H=wt[F];if(H!==void 0)return H.exports;var Q=wt[F]={exports:{}};return Mt[F](Q,Q.exports,K),Q.exports}K.n=F=>{var H=F&&F.__esModule?()=>F.default:()=>F;return K.d(H,{a:H}),H},K.d=(F,H)=>{for(var Q in H)K.o(H,Q)&&!K.o(F,Q)&&Object.defineProperty(F,Q,{enumerable:!0,get:H[Q]})},K.o=(F,H)=>Object.prototype.hasOwnProperty.call(F,H);var kt={};return(()=>{"use strict";K.d(kt,{default:()=>A});var F=function(){return F=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(f[i]=t[i]);return f},F.apply(this,arguments)},H=function(f){return!!f&&typeof f=="object"&&!Array.isArray(f)};function Q(f){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!t.length)return f;var n=t.shift();return n!==void 0&&H(f)&&H(n)?(f=F({},f),Object.keys(n).forEach((function(i){var a=f[i],c=n[i];Array.isArray(a)&&Array.isArray(c)?f[i]=c:H(a)&&H(c)?f[i]=Q(Object.assign({},a),c):f[i]=c})),Q.apply(void 0,(function(i,a,c){if(c||arguments.length===2)for(var v,d=0,e=a.length;d<e;d++)!v&&d in a||(v||(v=Array.prototype.slice.call(a,0,d)),v[d]=a[d]);return i.concat(v||Array.prototype.slice.call(a))})([f],t,!1))):f}function gt(f,t){var r=document.createElement("a");r.download=t,r.href=f,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function vt(f){return t=this,r=void 0,i=function(){return(function(a,c){var v,d,e,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=h(0),s.throw=h(1),s.return=h(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function h(l){return function(b){return(function(g){if(v)throw new TypeError("Generator is already executing.");for(;s&&(s=0,g[0]&&(o=0)),o;)try{if(v=1,d&&(e=2&g[0]?d.return:g[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,g[1])).done)return e;switch(d=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,d=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(!((e=(e=o.trys).length>0&&e[e.length-1])||g[0]!==6&&g[0]!==2)){o=0;continue}if(g[0]===3&&(!e||g[1]>e[0]&&g[1]<e[3])){o.label=g[1];break}if(g[0]===6&&o.label<e[1]){o.label=e[1],e=g;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(g);break}e[2]&&o.ops.pop(),o.trys.pop();continue}g=c.call(a,o)}catch(C){g=[6,C],d=0}finally{v=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}})([l,b])}}})(this,(function(a){return[2,new Promise((function(c){var v=new XMLHttpRequest;v.onload=function(){var d=new FileReader;d.onloadend=function(){c(d.result)},d.readAsDataURL(v.response)},v.open("GET",f),v.responseType="blob",v.send()}))]}))},new((n=void 0)||(n=Promise))((function(a,c){function v(o){try{e(i.next(o))}catch(s){c(s)}}function d(o){try{e(i.throw(o))}catch(s){c(s)}}function e(o){var s;o.done?a(o.value):(s=o.value,s instanceof n?s:new n((function(h){h(s)}))).then(v,d)}e((i=i.apply(t,r||[])).next())}));var t,r,n,i}const V={L:.07,M:.15,Q:.25,H:.3};var T=function(){return T=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(f[i]=t[i]);return f},T.apply(this,arguments)},Z=(function(){function f(t){var r=t.svg,n=t.type,i=t.window;this._svg=r,this._type=n,this._window=i}return f.prototype.draw=function(t,r,n,i){var a;switch(this._type){case"dots":a=this._drawDot;break;case"classy":a=this._drawClassy;break;case"classy-rounded":a=this._drawClassyRounded;break;case"rounded":a=this._drawRounded;break;case"extra-rounded":a=this._drawExtraRounded;break;default:a=this._drawSquare}a.call(this,{x:t,y:r,size:n,getNeighbor:i})},f.prototype._rotateFigure=function(t){var r,n=t.x,i=t.y,a=t.size,c=t.rotation,v=c===void 0?0:c,d=n+a/2,e=i+a/2;(0,t.draw)(),(r=this._element)===null||r===void 0||r.setAttribute("transform","rotate(".concat(180*v/Math.PI,",").concat(d,",").concat(e,")"))},f.prototype._basicDot=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(i+n/2)),r._element.setAttribute("cy",String(a+n/2)),r._element.setAttribute("r",String(n/2))}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(i)),r._element.setAttribute("y",String(a)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},f.prototype._basicSideRounded=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M ".concat(i," ").concat(a)+"v ".concat(n)+"h ".concat(n/2)+"a ".concat(n/2," ").concat(n/2,", 0, 0, 0, 0 ").concat(-n))}}))},f.prototype._basicCornerRounded=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M ".concat(i," ").concat(a)+"v ".concat(n)+"h ".concat(n)+"v ".concat(-n/2)+"a ".concat(n/2," ").concat(n/2,", 0, 0, 0, ").concat(-n/2," ").concat(-n/2))}}))},f.prototype._basicCornerExtraRounded=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M ".concat(i," ").concat(a)+"v ".concat(n)+"h ".concat(n)+"a ".concat(n," ").concat(n,", 0, 0, 0, ").concat(-n," ").concat(-n))}}))},f.prototype._basicCornersRounded=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(T(T({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M ".concat(i," ").concat(a)+"v ".concat(n/2)+"a ".concat(n/2," ").concat(n/2,", 0, 0, 0, ").concat(n/2," ").concat(n/2)+"h ".concat(n/2)+"v ".concat(-n/2)+"a ".concat(n/2," ").concat(n/2,", 0, 0, 0, ").concat(-n/2," ").concat(-n/2))}}))},f.prototype._drawDot=function(t){var r=t.x,n=t.y,i=t.size;this._basicDot({x:r,y:n,size:i,rotation:0})},f.prototype._drawSquare=function(t){var r=t.x,n=t.y,i=t.size;this._basicSquare({x:r,y:n,size:i,rotation:0})},f.prototype._drawRounded=function(t){var r=t.x,n=t.y,i=t.size,a=t.getNeighbor,c=a?+a(-1,0):0,v=a?+a(1,0):0,d=a?+a(0,-1):0,e=a?+a(0,1):0,o=c+v+d+e;if(o!==0)if(o>2||c&&v||d&&e)this._basicSquare({x:r,y:n,size:i,rotation:0});else{if(o===2){var s=0;return c&&d?s=Math.PI/2:d&&v?s=Math.PI:v&&e&&(s=-Math.PI/2),void this._basicCornerRounded({x:r,y:n,size:i,rotation:s})}if(o===1)return s=0,d?s=Math.PI/2:v?s=Math.PI:e&&(s=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:i,rotation:s})}else this._basicDot({x:r,y:n,size:i,rotation:0})},f.prototype._drawExtraRounded=function(t){var r=t.x,n=t.y,i=t.size,a=t.getNeighbor,c=a?+a(-1,0):0,v=a?+a(1,0):0,d=a?+a(0,-1):0,e=a?+a(0,1):0,o=c+v+d+e;if(o!==0)if(o>2||c&&v||d&&e)this._basicSquare({x:r,y:n,size:i,rotation:0});else{if(o===2){var s=0;return c&&d?s=Math.PI/2:d&&v?s=Math.PI:v&&e&&(s=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:n,size:i,rotation:s})}if(o===1)return s=0,d?s=Math.PI/2:v?s=Math.PI:e&&(s=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:i,rotation:s})}else this._basicDot({x:r,y:n,size:i,rotation:0})},f.prototype._drawClassy=function(t){var r=t.x,n=t.y,i=t.size,a=t.getNeighbor,c=a?+a(-1,0):0,v=a?+a(1,0):0,d=a?+a(0,-1):0,e=a?+a(0,1):0;c+v+d+e!==0?c||d?v||e?this._basicSquare({x:r,y:n,size:i,rotation:0}):this._basicCornerRounded({x:r,y:n,size:i,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:n,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:i,rotation:Math.PI/2})},f.prototype._drawClassyRounded=function(t){var r=t.x,n=t.y,i=t.size,a=t.getNeighbor,c=a?+a(-1,0):0,v=a?+a(1,0):0,d=a?+a(0,-1):0,e=a?+a(0,1):0;c+v+d+e!==0?c||d?v||e?this._basicSquare({x:r,y:n,size:i,rotation:0}):this._basicCornerExtraRounded({x:r,y:n,size:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:n,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:i,rotation:Math.PI/2})},f})();const $=Z;var q=function(){return q=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(f[i]=t[i]);return f},q.apply(this,arguments)},W=(function(){function f(t){var r=t.svg,n=t.type,i=t.window;this._svg=r,this._type=n,this._window=i}return f.prototype.draw=function(t,r,n,i){var a;switch(this._type){case"square":a=this._drawSquare;break;case"extra-rounded":a=this._drawExtraRounded;break;default:a=this._drawDot}a.call(this,{x:t,y:r,size:n,rotation:i})},f.prototype._rotateFigure=function(t){var r,n=t.x,i=t.y,a=t.size,c=t.rotation,v=c===void 0?0:c,d=n+a/2,e=i+a/2;(0,t.draw)(),(r=this._element)===null||r===void 0||r.setAttribute("transform","rotate(".concat(180*v/Math.PI,",").concat(d,",").concat(e,")"))},f.prototype._basicDot=function(t){var r=this,n=t.size,i=t.x,a=t.y,c=n/7;this._rotateFigure(q(q({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M ".concat(i+n/2," ").concat(a)+"a ".concat(n/2," ").concat(n/2," 0 1 0 0.1 0")+"z"+"m 0 ".concat(c)+"a ".concat(n/2-c," ").concat(n/2-c," 0 1 1 -0.1 0")+"Z")}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,i=t.x,a=t.y,c=n/7;this._rotateFigure(q(q({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M ".concat(i," ").concat(a)+"v ".concat(n)+"h ".concat(n)+"v ".concat(-n)+"z"+"M ".concat(i+c," ").concat(a+c)+"h ".concat(n-2*c)+"v ".concat(n-2*c)+"h ".concat(2*c-n)+"z")}}))},f.prototype._basicExtraRounded=function(t){var r=this,n=t.size,i=t.x,a=t.y,c=n/7;this._rotateFigure(q(q({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M ".concat(i," ").concat(a+2.5*c)+"v ".concat(2*c)+"a ".concat(2.5*c," ").concat(2.5*c,", 0, 0, 0, ").concat(2.5*c," ").concat(2.5*c)+"h ".concat(2*c)+"a ".concat(2.5*c," ").concat(2.5*c,", 0, 0, 0, ").concat(2.5*c," ").concat(2.5*-c)+"v ".concat(-2*c)+"a ".concat(2.5*c," ").concat(2.5*c,", 0, 0, 0, ").concat(2.5*-c," ").concat(2.5*-c)+"h ".concat(-2*c)+"a ".concat(2.5*c," ").concat(2.5*c,", 0, 0, 0, ").concat(2.5*-c," ").concat(2.5*c)+"M ".concat(i+2.5*c," ").concat(a+c)+"h ".concat(2*c)+"a ".concat(1.5*c," ").concat(1.5*c,", 0, 0, 1, ").concat(1.5*c," ").concat(1.5*c)+"v ".concat(2*c)+"a ".concat(1.5*c," ").concat(1.5*c,", 0, 0, 1, ").concat(1.5*-c," ").concat(1.5*c)+"h ".concat(-2*c)+"a ".concat(1.5*c," ").concat(1.5*c,", 0, 0, 1, ").concat(1.5*-c," ").concat(1.5*-c)+"v ".concat(-2*c)+"a ".concat(1.5*c," ").concat(1.5*c,", 0, 0, 1, ").concat(1.5*c," ").concat(1.5*-c))}}))},f.prototype._drawDot=function(t){var r=t.x,n=t.y,i=t.size,a=t.rotation;this._basicDot({x:r,y:n,size:i,rotation:a})},f.prototype._drawSquare=function(t){var r=t.x,n=t.y,i=t.size,a=t.rotation;this._basicSquare({x:r,y:n,size:i,rotation:a})},f.prototype._drawExtraRounded=function(t){var r=t.x,n=t.y,i=t.size,a=t.rotation;this._basicExtraRounded({x:r,y:n,size:i,rotation:a})},f})();const it=W;var G=function(){return G=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(f[i]=t[i]);return f},G.apply(this,arguments)},tt=(function(){function f(t){var r=t.svg,n=t.type,i=t.window;this._svg=r,this._type=n,this._window=i}return f.prototype.draw=function(t,r,n,i){(this._type==="square"?this._drawSquare:this._drawDot).call(this,{x:t,y:r,size:n,rotation:i})},f.prototype._rotateFigure=function(t){var r,n=t.x,i=t.y,a=t.size,c=t.rotation,v=c===void 0?0:c,d=n+a/2,e=i+a/2;(0,t.draw)(),(r=this._element)===null||r===void 0||r.setAttribute("transform","rotate(".concat(180*v/Math.PI,",").concat(d,",").concat(e,")"))},f.prototype._basicDot=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(G(G({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(i+n/2)),r._element.setAttribute("cy",String(a+n/2)),r._element.setAttribute("r",String(n/2))}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,i=t.x,a=t.y;this._rotateFigure(G(G({},t),{draw:function(){r._element=r._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(i)),r._element.setAttribute("y",String(a)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},f.prototype._drawDot=function(t){var r=t.x,n=t.y,i=t.size,a=t.rotation;this._basicDot({x:r,y:n,size:i,rotation:a})},f.prototype._drawSquare=function(t){var r=t.x,n=t.y,i=t.size,a=t.rotation;this._basicSquare({x:r,y:n,size:i,rotation:a})},f})();const at=tt,st="circle";var pt=function(f,t,r,n){return new(r||(r=Promise))((function(i,a){function c(e){try{d(n.next(e))}catch(o){a(o)}}function v(e){try{d(n.throw(e))}catch(o){a(o)}}function d(e){var o;e.done?i(e.value):(o=e.value,o instanceof r?o:new r((function(s){s(o)}))).then(c,v)}d((n=n.apply(f,t||[])).next())}))},_t=function(f,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=v(0),c.throw=v(1),c.return=v(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function v(d){return function(e){return(function(o){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||o[0]!==6&&o[0]!==2)){a=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(o[0]===6&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(f,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([d,e])}}},et=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],nt=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const bt=(function(){function f(t,r){var n;this._window=r,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),t.imageOptions.saveAsBlob&&(!((n=t.nodeCanvas)===null||n===void 0)&&n.createCanvas?this._canvas=t.nodeCanvas.createCanvas(t.width,t.height):this._canvas=document.createElement("canvas"),this._canvas.width=t.width,this._canvas.height=t.height),this._imageUri=t.image,this._options=t}return Object.defineProperty(f.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),f.prototype.getElement=function(){return this._element},f.prototype.drawQR=function(t){return pt(this,void 0,void 0,(function(){var r,n,i,a,c,v,d,e,o,s,h=this;return _t(this,(function(l){switch(l.label){case 0:return r=t.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,i=this._options.shape===st?n/Math.sqrt(2):n,a=Math.floor(i/r),c={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(l.sent(),!this._image)return[2];this.imageToBlob(),v=this._options,d=v.imageOptions,e=v.qrOptions,o=d.imageSize*V[e.errorCorrectionLevel],s=Math.floor(o*r*r),c=(function(b){var g=b.originalHeight,C=b.originalWidth,k=b.maxHiddenDots,O=b.maxHiddenAxisDots,B=b.dotSize,M={x:0,y:0},z={x:0,y:0};if(g<=0||C<=0||k<=0||B<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var D=g/C;return M.x=Math.floor(Math.sqrt(k/D)),M.x<=0&&(M.x=1),O&&O<M.x&&(M.x=O),M.x%2==0&&M.x--,z.x=M.x*B,M.y=1+2*Math.ceil((M.x*D-1)/2),z.y=Math.round(z.x*D),(M.y*M.x>k||O&&O<M.y)&&(O&&O<M.y?(M.y=O,M.y%2==0&&M.x--):M.y-=2,z.y=M.y*B,M.x=1+2*Math.ceil((M.y/D-1)/2),z.x=Math.round(z.y/D)),{height:z.y,width:z.x,hideYDots:M.y,hideXDots:M.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:s,maxHiddenAxisDots:r-14,dotSize:a}),l.label=2;case 2:return this.drawBackground(),this.drawDots((function(b,g){var C,k,O,B,M,z;return!(h._options.imageOptions.hideBackgroundDots&&b>=(r-c.hideXDots)/2&&b<(r+c.hideXDots)/2&&g>=(r-c.hideYDots)/2&&g<(r+c.hideYDots)/2||!((C=et[b])===null||C===void 0)&&C[g]||!((k=et[b-r+7])===null||k===void 0)&&k[g]||!((O=et[b])===null||O===void 0)&&O[g-r+7]||!((B=nt[b])===null||B===void 0)&&B[g]||!((M=nt[b-r+7])===null||M===void 0)&&M[g]||!((z=nt[b])===null||z===void 0)&&z[g-r+7])})),this.drawCorners(),this._options.image?[4,this.drawImage({width:c.width,height:c.height,count:r,dotSize:a})]:[3,4];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))},f.prototype.drawBackground=function(){var t,r,n,i=this._element,a=this._options;if(i){var c=(t=a.backgroundOptions)===null||t===void 0?void 0:t.gradient,v=(r=a.backgroundOptions)===null||r===void 0?void 0:r.color;if((c||v)&&this._createColor({options:c,color:v,additionalRotation:0,x:0,y:0,height:a.height,width:a.width,name:"background-color"}),(n=a.backgroundOptions)===null||n===void 0?void 0:n.round){var d=Math.min(a.width,a.height),e=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),e.setAttribute("x",String((a.width-d)/2)),e.setAttribute("y",String((a.height-d)/2)),e.setAttribute("width",String(d)),e.setAttribute("height",String(d)),e.setAttribute("rx",String(d/2*a.backgroundOptions.round)),this._backgroundClipPath.appendChild(e)}}},f.prototype.drawDots=function(t){var r,n,i=this;if(!this._qr)throw"QR code is not defined";var a=this._options,c=this._qr.getModuleCount();if(c>a.width||c>a.height)throw"The canvas is too small.";var v=Math.min(a.width,a.height)-2*a.margin,d=a.shape===st?v/Math.sqrt(2):v,e=Math.floor(d/c),o=Math.floor((a.width-c*e)/2),s=Math.floor((a.height-c*e)/2),h=new $({svg:this._element,type:a.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._dotsClipPath.style.transformOrigin="center",this._dotsClipPath.style.transform="rotate(90deg) scale(1, -1)",this._defs.appendChild(this._dotsClipPath),this._createColor({options:(r=a.dotsOptions)===null||r===void 0?void 0:r.gradient,color:a.dotsOptions.color,additionalRotation:0,x:0,y:0,height:a.height,width:a.width,name:"dot-color"});for(var l=function(R){for(var Y=function(L){return t&&!t(R,L)?"continue":!((n=b._qr)===null||n===void 0)&&n.isDark(R,L)?(h.draw(o+R*e,s+L*e,e,(function(N,j){return!(R+N<0||L+j<0||R+N>=c||L+j>=c)&&!(t&&!t(R+N,L+j))&&!!i._qr&&i._qr.isDark(R+N,L+j)})),void(h._element&&b._dotsClipPath&&b._dotsClipPath.appendChild(h._element))):"continue"},I=0;I<c;I++)Y(I)},b=this,g=0;g<c;g++)l(g);if(a.shape===st){var C=Math.floor((v/e-c)/2),k=c+2*C,O=o-C*e,B=s-C*e,M=[],z=Math.floor(k/2);for(g=0;g<k;g++){M[g]=[];for(var D=0;D<k;D++)g>=C-1&&g<=k-C&&D>=C-1&&D<=k-C||Math.sqrt((g-z)*(g-z)+(D-z)*(D-z))>z?M[g][D]=0:M[g][D]=this._qr.isDark(D-2*C<0?D:D>=c?D-2*C:D-C,g-2*C<0?g:g>=c?g-2*C:g-C)?1:0}var E=function(R){for(var Y=function(L){if(!M[R][L])return"continue";h.draw(O+R*e,B+L*e,e,(function(N,j){var X;return!!(!((X=M[R+N])===null||X===void 0)&&X[L+j])})),h._element&&P._dotsClipPath&&P._dotsClipPath.appendChild(h._element)},I=0;I<k;I++)Y(I)},P=this;for(g=0;g<k;g++)E(g)}},f.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var r=this._element,n=this._options;if(!r)throw"Element code is not defined";var i=this._qr.getModuleCount(),a=Math.min(n.width,n.height)-2*n.margin,c=n.shape===st?a/Math.sqrt(2):a,v=Math.floor(c/i),d=7*v,e=3*v,o=Math.floor((n.width-i*v)/2),s=Math.floor((n.height-i*v)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((function(h){var l,b,g,C,k,O,B,M,z,D,E,P,R=h[0],Y=h[1],I=h[2],L=o+R*v*(i-7),N=s+Y*v*(i-7),j=t._dotsClipPath,X=t._dotsClipPath;if((!((l=n.cornersSquareOptions)===null||l===void 0)&&l.gradient||!((b=n.cornersSquareOptions)===null||b===void 0)&&b.color)&&((j=t._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-".concat(R,"-").concat(Y)),t._defs.appendChild(j),t._cornersSquareClipPath=t._cornersDotClipPath=X=j,t._createColor({options:(g=n.cornersSquareOptions)===null||g===void 0?void 0:g.gradient,color:(C=n.cornersSquareOptions)===null||C===void 0?void 0:C.color,additionalRotation:I,x:L,y:N,height:d,width:d,name:"corners-square-color-".concat(R,"-").concat(Y)})),(k=n.cornersSquareOptions)===null||k===void 0?void 0:k.type){var rt=new it({svg:t._element,type:n.cornersSquareOptions.type,window:t._window});rt.draw(L,N,d,I),rt._element&&j&&j.appendChild(rt._element)}else for(var U=new $({svg:t._element,type:n.dotsOptions.type,window:t._window}),Pt=function(ot){for(var Ct=function(ht){if(!(!((O=et[ot])===null||O===void 0)&&O[ht]))return"continue";U.draw(L+ot*v,N+ht*v,v,(function(St,At){var dt;return!!(!((dt=et[ot+St])===null||dt===void 0)&&dt[ht+At])})),U._element&&j&&j.appendChild(U._element)},ut=0;ut<et[ot].length;ut++)Ct(ut)},ct=0;ct<et.length;ct++)Pt(ct);if((!((B=n.cornersDotOptions)===null||B===void 0)&&B.gradient||!((M=n.cornersDotOptions)===null||M===void 0)&&M.color)&&((X=t._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-".concat(R,"-").concat(Y)),t._defs.appendChild(X),t._cornersDotClipPath=X,t._createColor({options:(z=n.cornersDotOptions)===null||z===void 0?void 0:z.gradient,color:(D=n.cornersDotOptions)===null||D===void 0?void 0:D.color,additionalRotation:I,x:L+2*v,y:N+2*v,height:e,width:e,name:"corners-dot-color-".concat(R,"-").concat(Y)})),(E=n.cornersDotOptions)===null||E===void 0?void 0:E.type){var xt=new at({svg:t._element,type:n.cornersDotOptions.type,window:t._window});xt.draw(L+2*v,N+2*v,e,I),xt._element&&X&&X.appendChild(xt._element)}else{U=new $({svg:t._element,type:n.dotsOptions.type,window:t._window});var Bt=function(ot){for(var Ct=function(ht){if(!(!((P=nt[ot])===null||P===void 0)&&P[ht]))return"continue";U.draw(L+ot*v,N+ht*v,v,(function(St,At){var dt;return!!(!((dt=nt[ot+St])===null||dt===void 0)&&dt[ht+At])})),U._element&&X&&X.appendChild(U._element)},ut=0;ut<nt[ot].length;ut++)Ct(ut)};for(ct=0;ct<nt.length;ct++)Bt(ct)}}))},f.prototype.imageToBlob=function(){var t;if(this._image&&(/(\.svg$)|(^data:image\/svg)/.test((t=this._options.image)!==null&&t!==void 0?t:"")&&(this._image.width=this._options.width,this._image.height=this._options.height),this._options.imageOptions.saveAsBlob&&this._canvas)){var r=this._canvas.getContext("2d");r&&(r.drawImage(this._image,0,0,this._canvas.width,this._canvas.height),this._imageUri=this._canvas.toDataURL("image/png"))}},f.prototype.loadImage=function(){var t=this;return new Promise((function(r,n){var i,a=t._options;if(!a.image)return n("Image is not defined");if(!((i=a.nodeCanvas)===null||i===void 0)&&i.loadImage)a.nodeCanvas.loadImage(a.image).then((function(v){var d;/(\.svg$)|(^data:image\/svg)/.test((d=a.image)!==null&&d!==void 0?d:"")&&(v.width=t._options.width,v.height=t._options.height),t._image=v,r()})).catch(n);else{var c=new t._window.Image;typeof a.imageOptions.crossOrigin=="string"&&(c.crossOrigin=a.imageOptions.crossOrigin),t._image=c,c.onload=function(){r()},c.src=a.image}}))},f.prototype.drawImage=function(t){return pt(this,arguments,void 0,(function(r){var n,i,a,c,v,d,e,o,s,h=r.width,l=r.height,b=r.count,g=r.dotSize;return _t(this,(function(C){switch(C.label){case 0:return n=this._options,i=Math.floor((n.width-b*g)/2),a=Math.floor((n.height-b*g)/2),c=i+n.imageOptions.margin+(b*g-h)/2,v=a+n.imageOptions.margin+(b*g-l)/2,d=h-2*n.imageOptions.margin,e=l-2*n.imageOptions.margin,(o=this._window.document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("href",this._imageUri||""),o.setAttribute("x",String(c)),o.setAttribute("y",String(v)),o.setAttribute("width","".concat(d,"px")),o.setAttribute("height","".concat(e,"px")),[4,vt(n.image||"")];case 1:return s=C.sent(),o.setAttribute("href",s||""),this._element.appendChild(o),[2]}}))}))},f.prototype._createColor=function(t){var r=this,n=t.options,i=t.color,a=t.additionalRotation,c=t.x,v=t.y,d=t.height,e=t.width,o=t.name,s=e>d?e:d,h=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(h.setAttribute("x",String(c)),h.setAttribute("y",String(v)),h.setAttribute("height",String(d)),h.setAttribute("width",String(e)),h.setAttribute("clip-path","url('#clip-path-".concat(o,"')")),n){var l;if(n.type==="radial")(l=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",o),l.setAttribute("gradientUnits","userSpaceOnUse"),l.setAttribute("fx",String(c+e/2)),l.setAttribute("fy",String(v+d/2)),l.setAttribute("cx",String(c+e/2)),l.setAttribute("cy",String(v+d/2)),l.setAttribute("r",String(s/2));else{var b=((n.rotation||0)+a)%(2*Math.PI),g=(b+2*Math.PI)%(2*Math.PI),C=c+e/2,k=v+d/2,O=c+e/2,B=v+d/2;g>=0&&g<=.25*Math.PI||g>1.75*Math.PI&&g<=2*Math.PI?(C-=e/2,k-=d/2*Math.tan(b),O+=e/2,B+=d/2*Math.tan(b)):g>.25*Math.PI&&g<=.75*Math.PI?(k-=d/2,C-=e/2/Math.tan(b),B+=d/2,O+=e/2/Math.tan(b)):g>.75*Math.PI&&g<=1.25*Math.PI?(C+=e/2,k+=d/2*Math.tan(b),O-=e/2,B-=d/2*Math.tan(b)):g>1.25*Math.PI&&g<=1.75*Math.PI&&(k+=d/2,C+=e/2/Math.tan(b),B-=d/2,O-=e/2/Math.tan(b)),(l=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",o),l.setAttribute("gradientUnits","userSpaceOnUse"),l.setAttribute("x1",String(Math.round(C))),l.setAttribute("y1",String(Math.round(k))),l.setAttribute("x2",String(Math.round(O))),l.setAttribute("y2",String(Math.round(B)))}n.colorStops.forEach((function(M){var z=M.offset,D=M.color,E=r._window.document.createElementNS("http://www.w3.org/2000/svg","stop");E.setAttribute("offset","".concat(100*z,"%")),E.setAttribute("stop-color",D),l.appendChild(E)})),h.setAttribute("fill","url('#".concat(o,"')")),this._defs.appendChild(l)}else i&&h.setAttribute("fill",i);this._element.appendChild(h)},f})(),lt="canvas";for(var yt={},ft=0;ft<=40;ft++)yt[ft]=ft;const y={type:lt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:yt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!1,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var p=function(){return p=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(f[i]=t[i]);return f},p.apply(this,arguments)};function _(f){var t=p({},f);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation?t.rotation=Number(t.rotation):t.rotation=0,t.colorStops=t.colorStops.map((function(r){return p(p({},r),{offset:Number(r.offset)})})),t}function w(f){var t=p({},f);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=p(p({},t.imageOptions),{hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=p({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=_(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=p({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=_(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=p({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=_(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=p({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=_(t.backgroundOptions.gradient))),t}var u=K(873),m=K.n(u),S=function(f,t,r,n){return new(r||(r=Promise))((function(i,a){function c(e){try{d(n.next(e))}catch(o){a(o)}}function v(e){try{d(n.throw(e))}catch(o){a(o)}}function d(e){var o;e.done?i(e.value):(o=e.value,o instanceof r?o:new r((function(s){s(o)}))).then(c,v)}d((n=n.apply(f,t||[])).next())}))},x=function(f,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=v(0),c.throw=v(1),c.return=v(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function v(d){return function(e){return(function(o){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||o[0]!==6&&o[0]!==2)){a=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(o[0]===6&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(f,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}})([d,e])}}};const A=(function(){function f(t){t?.jsdom?this._window=new t.jsdom("",{resources:"usable"}).window:this._window=window,this._options=t?w(Q(y,t)):y,this.update()}return f._clearContainer=function(t){t&&(t.innerHTML="")},f.prototype._setupSvg=function(){var t=this;if(this._qr){var r=new bt(this._options,this._window);this._svg=r.getElement(),this._svgDrawingPromise=r.drawQR(this._qr).then((function(){var n;t._svg&&((n=t._extension)===null||n===void 0||n.call(t,r.getElement(),t._options))}))}},f.prototype._setupCanvas=function(){var t,r,n=this;this._qr&&(!((t=this._options.nodeCanvas)===null||t===void 0)&&t.createCanvas?this._canvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height):this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(r=this._svgDrawingPromise)===null||r===void 0?void 0:r.then((function(){var i;if(n._svg){var a=n._svg,c=new n._window.XMLSerializer().serializeToString(a),v="data:image/svg+xml;base64,"+btoa(c);if(!((i=n._options.nodeCanvas)===null||i===void 0)&&i.loadImage)return n._options.nodeCanvas.loadImage(v).then((function(e){var o,s;e.width=n._options.width,e.height=n._options.height,(s=(o=n._canvas)===null||o===void 0?void 0:o.getContext("2d"))===null||s===void 0||s.drawImage(e,0,0)}));var d=new n._window.Image;return new Promise((function(e){d.onload=function(){var o,s;(s=(o=n._canvas)===null||o===void 0?void 0:o.getContext("2d"))===null||s===void 0||s.drawImage(d,0,0),e()},d.src=v}))}})))},f.prototype._getElement=function(){return S(this,arguments,void 0,(function(t){return t===void 0&&(t="png"),x(this,(function(r){switch(r.label){case 0:if(!this._qr)throw"QR code is empty";return t.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return r.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return r.sent(),[2,this._canvas]}}))}))},f.prototype.update=function(t){f._clearContainer(this._container),this._options=t?w(Q(this._options,t)):this._options,this._options.data&&(this._qr=m()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(r){switch(!0){case/^[0-9]*$/.test(r):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(r):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===lt?this._setupCanvas():this._setupSvg(),this.append(this._container))},f.prototype.append=function(t){if(t){if(typeof t.appendChild!="function")throw"Container should be a single DOM node";this._options.type===lt?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},f.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},f.prototype.deleteExtension=function(){this._extension=void 0,this.update()},f.prototype.getRawData=function(){return S(this,arguments,void 0,(function(t){var r,n,i,a;return t===void 0&&(t="png"),x(this,(function(c){switch(c.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(r=c.sent())?t.toLowerCase()==="svg"?(n=new this._window.XMLSerializer,i=n.serializeToString(r),a=`<?xml version="1.0" standalone="no"?>\r
`.concat(i),typeof Blob>"u"||this._options.jsdom?[2,Dt.from(a)]:[2,new Blob([a],{type:"image/svg+xml"})]):[2,new Promise((function(v){var d=r;d.toBuffer?v(d.toBuffer("image/".concat(t))):d.toBlob(v,"image/".concat(t),1)}))]:[2,null]}}))}))},f.prototype.download=function(t){return S(this,void 0,void 0,(function(){var r,n,i,a,c;return x(this,(function(v){switch(v.label){case 0:if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";return r="png",n="qr",typeof t=="string"?(r=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof t=="object"&&t!==null&&(t.name&&(n=t.name),t.extension&&(r=t.extension)),[4,this._getElement(r)];case 1:return(i=v.sent())?(r.toLowerCase()==="svg"?(a=new XMLSerializer,c=`<?xml version="1.0" standalone="no"?>\r
`+(c=a.serializeToString(i)),gt("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c),"".concat(n,".svg"))):gt(i.toDataURL("image/".concat(r)),"".concat(n,".").concat(r)),[2]):[2]}}))}))},f})()})(),kt.default})()))})}]);

//# sourceMappingURL=7283.js.map