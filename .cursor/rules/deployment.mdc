---
description: Production deployment operations for Open Agent
alwaysApply: true
---

# Deployment

## Production Server

| Property | Value |
|----------|-------|
| Host | `95.216.112.253` |
| SSH | `ssh root@95.216.112.253` |
| Backend URL | `https://agent-backend.thomas.md` |
| Dashboard URL | `https://agent.thomas.md` (Vercel) |
| Binary | `/usr/local/bin/open_agent` |
| Source | `/root/open_agent` |
| Env file | `/etc/open_agent/open_agent.env` |
| Service | `systemctl status open_agent` |

## Common Operations

```bash
# Check status
ssh root@95.216.112.253 'systemctl status open_agent'

# View logs (follow)
ssh root@95.216.112.253 'journalctl -u open_agent -f'

# Restart
ssh root@95.216.112.253 'systemctl restart open_agent'

# Edit env vars
ssh root@95.216.112.253 'vim /etc/open_agent/open_agent.env'
# Then: systemctl restart open_agent
```

## Full Redeploy

```bash
ssh root@95.216.112.253 'cd /root/open_agent && git pull && cargo build --release && cp target/release/open_agent /usr/local/bin/ && systemctl restart open_agent'
```

## Nginx Proxy

Backend proxied at `agent-backend.thomas.md`:
- Proxies to `127.0.0.1:3000`
- WebSocket upgrade enabled
- SSL via certbot

## SSH Key

VPS uses `~/.ssh/cursor` key for GitHub access. Config:
```
Host github.com
    IdentityFile ~/.ssh/cursor
```

## Systemd Service

Location: `/etc/systemd/system/open_agent.service`
```ini
[Service]
Type=simple
User=root
WorkingDirectory=/root/open_agent
EnvironmentFile=/etc/open_agent/open_agent.env
ExecStart=/usr/local/bin/open_agent
Restart=always
```
